(function(){"use strict";var e={399:function(e,t,n){var r,i,o,a;n.d(t,{TH:function(){return i},cO:function(){return o},h2:function(){return a},iF:function(){return r}}),function(e){e["waiting"]="waiting",e["queueing"]="queueing",e["preparing"]="preparing",e["completed"]="completed",e["paid"]="paid",e["cancelled"]="cancelled"}(r||(r={})),function(e){e["queueing"]="queueing",e["preparing"]="preparing",e["completed"]="completed"}(i||(i={})),function(e){e["create"]="create",e["createWithInsert"]="createWithInsert",e["reading"]="reading",e["update"]="update",e["delete"]="delete"}(o||(o={})),function(e){e["w75"]="s",e["w100"]="t",e["w150"]="q",e["w240"]="m",e["w320"]="n",e["w400"]="w",e["default"]="",e["w640"]="z",e["w800"]="c",e["w1024"]="b",e["w1600"]="h"}(a||(a={}))},433:function(e,t,n){var r=n(963),i=n(252),o=n.p+"img/logo.271dd957.png",a={key:0,class:"loadingPanda"},s=(0,i._)("img",{src:o,alt:"Menu Panda"},null,-1),d=(0,i._)("p",null,"Menu Panda",-1),c=[s,d],u={key:1};function l(e,t,n,o,s,d){var l=(0,i.up)("router-view"),m=(0,i.up)("item-detail-component"),f=(0,i.up)("footer-component"),h=(0,i.up)("order-list-modal-component"),p=(0,i.up)("alert-modal-component"),g=(0,i.up)("order-history-modal-component");return e.isLoading?((0,i.wg)(),(0,i.iD)("div",a,c)):((0,i.wg)(),(0,i.iD)("section",u,[(0,i.Wm)(l,{systemData:e.systemData,banners:e.banners,categories:e.categories,items:e.items,onShowItemDetail:e.showItemDetail},{default:(0,i.w5)((function(e){var t=e.Component;return[(0,i.Wm)(r.uT,{name:"fade",mode:"out-in"},{default:(0,i.w5)((function(){return[((0,i.wg)(),(0,i.j4)((0,i.LL)(t)))]})),_:2},1024)]})),_:1},8,["systemData","banners","categories","items","onShowItemDetail"]),(0,i.Wm)(m,{diplayItemCode:e.diplayItemCode,items:e.items,onHideItemDetail:e.hideItemDetail},null,8,["diplayItemCode","items","onHideItemDetail"]),(0,i.Wm)(f,{totalOrderAmount:e.totalOrderAmount,totalOrderQty:e.totalOrderQty,onShowOrderListModal:e.showOrderListModal},null,8,["totalOrderAmount","totalOrderQty","onShowOrderListModal"]),(0,i.Wm)(h,{items:e.items,isShowOrderListModal:e.isShowOrderListModal,totalOrderAmount:e.totalOrderAmount,systemData:e.systemData,proxyData:e.proxyData,orderHistory:e.orderHistories[0],onHideOrderListModal:e.hideOrderListModal,onSetOrderNo:e.setOrderNo,onShowAlertModal:e.showAlertModal},null,8,["items","isShowOrderListModal","totalOrderAmount","systemData","proxyData","orderHistory","onHideOrderListModal","onSetOrderNo","onShowAlertModal"]),(0,i.Wm)(p,{isShowAlertModal:e.isShowAlertModal,orderNo:e.orderNo,onHideAlertModal:e.hideAlertModal},null,8,["isShowAlertModal","orderNo","onHideAlertModal"]),(0,i.Wm)(g,{isShowOrderHistoryModal:e.isShowOrderHistoryModal,items:e.items,orderHistories:e.orderHistories,systemData:e.systemData,onHideOrderHistoryModal:e.hideOrderHistoryModal},null,8,["isShowOrderHistoryModal","items","orderHistories","systemData","onHideOrderHistoryModal"])]))}var m=n(262);function f(e){var t=JSON.parse(e.substring(47).slice(0,-2)),n=t.table.cols;return 0===t.table.parsedNumHeaders?[]:t.table.rows.map((function(e){var t={};return e.c.forEach((function(e,r){"_"!==n[r].label.substring(0,1)&&(t[n[r].label]=null===e?"":e.v)})),t}))}function h(e){var t=JSON.parse(e.substring(47).slice(0,-2)),n=t.table.rows,r=[];1===t.table.parsedNumHeaders&&(alert("Please inform programmer! Error Code: 01"),console.warn("ForLoopMixin.ts function allSheetJsonToObject")),n[0].c.forEach((function(e){r.push({name:e.v,datas:[]})})),n[1].c.forEach((function(e,t){var n=[];JSON.parse(e.v).forEach((function(e,i){if(0===i)n=e;else{var o={};e.forEach((function(e,t){o[n[t]]=e})),r[t].datas.push(o)}}))}));for(var i=null,o=r.length-1;o>=0;o--){var a=r[o];null!==i&&i.name===a.name?(i.datas=a.datas.concat(i.datas),r.splice(o,1)):i=a}return r}var p=n(399),g=n(577),y=function(e){return(0,i.dD)("data-v-3b1ee509"),e=e(),(0,i.Cn)(),e},v={key:0,class:"overlayContainer"},w={id:"itemComponentDetailContainer",class:"container"},O={class:"image"},D=["src"],C={class:"content orderAddedList"},_={class:"wrapper"},k=y((function(){return(0,i._)("p",{class:"title"},"Order List:",-1)})),S={class:"content mainInfo"},b={class:"title"},L={class:"description"},I={key:0,class:"note"},H={class:"name"},A=y((function(){return(0,i._)("div",{class:"line"},null,-1)})),M=["onClick"],q=y((function(){return(0,i._)("span",null,"RM",-1)})),F=["onClick"],z={key:0,class:"content chips"},x={class:"title"},T={class:"term"},E={class:"chipFlex"},P=["onClick"],N={key:1,class:"content choices"},j={class:"title"},B={class:"term"},G={class:"name"},Q=y((function(){return(0,i._)("div",{class:"line"},null,-1)})),U=["onClick"],R=y((function(){return(0,i._)("span",null,"RM",-1)})),W=["onClick"],Y={class:"buttonArea"};function Z(e,t,n,o,a,s){var d=(0,i.up)("font-awesome-icon");return(0,i.wg)(),(0,i.j4)(r.uT,{name:"show"},{default:(0,i.w5)((function(){return[e.diplayItemCode?((0,i.wg)(),(0,i.iD)("div",v,[(0,i._)("div",{onClick:t[0]||(t[0]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.close&&e.close.apply(e,t)}),class:"overlay"}),(0,i._)("div",w,[(0,i._)("div",O,[e.item.image?((0,i.wg)(),(0,i.iD)("img",{key:0,src:e.convertFlickrImage(e.item.image,e.ImageSize.w800)},null,8,D)):(0,i.kq)("",!0)]),(0,i.wy)((0,i._)("div",C,[(0,i._)("div",_,[k,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.prevOrderList,(function(t){return(0,i.wg)(),(0,i.iD)("div",{key:t.name,class:"orderAdded"},[(0,i._)("p",null,[(0,i.Uk)((0,g.zw)(""===t.name?t.itemCode:t.name)+" ",1),(0,i._)("b",null,"x"+(0,g.zw)(t.qty)+" set",1)]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.addOnGroups,(function(n){return(0,i.wg)(),(0,i.iD)("p",{key:n.name},[(0,i._)("span",null,(0,g.zw)(n.name)+": ",1),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.addOns,(function(o){return(0,i.wg)(),(0,i.iD)("span",{key:o.name},[(0,i.Uk)((0,g.zw)(o.name)+" ",1),(0,i.wy)((0,i._)("b",null,"x"+(0,g.zw)(o.qty),513),[[r.F8,e.getAddOnConfigDuplicateSelect(t,n)]])])})),128))])})),128))])})),128))])],512),[[r.F8,e.prevOrderList.length>0]]),(0,i._)("div",S,[(0,i._)("p",b,(0,g.zw)(e.item.name),1),(0,i._)("p",L,(0,g.zw)(e.item.code)+". "+(0,g.zw)(e.item.description),1),""!==e.item.note?((0,i.wg)(),(0,i.iD)("p",I,(0,g.zw)(e.item.note),1)):(0,i.kq)("",!0)]),(0,i._)("div",{class:(0,g.C_)([e.warningClass,"content choices"])},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.item.choices,(function(t){return(0,i.wg)(),(0,i.iD)("div",{key:t.name,class:"choice"},[(0,i._)("p",H,(0,g.zw)(""===t.name?e.item.code:t.name),1),A,(0,i.wy)((0,i._)("p",{class:"qty"}," x"+(0,g.zw)(e.getChoiceQty(t)),513),[[r.F8,e.getChoiceQty(t)]]),(0,i._)("button",{onClick:function(n){return e.updateChoiceQty(t,1)},class:(0,g.C_)([{active:e.getChoiceQty(t)},"primary amount"])},[q,(0,i.Uk)(" "+(0,g.zw)(t.price.toFixed(2)),1)],10,M),(0,i._)("button",{onClick:function(n){return e.removeChoice(t)},class:(0,g.C_)([{active:e.getChoiceQty(t)},"transparent button trash"])},[(0,i.Wm)(d,{icon:"trash"})],10,F)])})),128))],2),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.item.addOnGroups,(function(t){return(0,i.wg)(),(0,i.iD)(i.HY,{key:t.name},[t.noCharges?((0,i.wg)(),(0,i.iD)("div",z,[(0,i._)("p",x,[(0,i.Uk)((0,g.zw)(t.name),1),(0,i._)("span",T,(0,g.zw)(e.buildTerm(t)),1)]),(0,i._)("div",E,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.addOns,(function(n){return(0,i.wg)(),(0,i.iD)("div",{key:n.name,onClick:function(r){return e.updateAddOnQty(t,n,1)},class:(0,g.C_)([{active:e.getAddOnQty(t,n)},"chip button primary"])},[(0,i.Wm)(d,{icon:"check"}),(0,i.Uk)(" "+(0,g.zw)(n.name),1)],10,P)})),128))])])):((0,i.wg)(),(0,i.iD)("div",N,[(0,i._)("p",j,[(0,i.Uk)((0,g.zw)(t.name),1),(0,i._)("span",B,(0,g.zw)(e.buildTerm(t)),1)]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.addOns,(function(n){return(0,i.wg)(),(0,i.iD)("div",{key:n.name,class:"choice"},[(0,i._)("p",G,(0,g.zw)(n.name),1),Q,(0,i.wy)((0,i._)("p",{class:"qty"}," x"+(0,g.zw)(e.getAddOnQty(t,n)),513),[[r.F8,e.getAddOnQty(t,n)]]),(0,i._)("button",{onClick:function(r){return e.updateAddOnQty(t,n,1)},class:(0,g.C_)([{active:e.getAddOnQty(t,n)},"primary addToCart amount"])},[R,(0,i.Uk)(" "+(0,g.zw)(n.price.toFixed(2)),1)],10,U),(0,i._)("button",{onClick:function(r){return e.removeAddOn(t,n)},class:(0,g.C_)([{active:e.getAddOnQty(t,n)},"transparent button trash"])},[(0,i.Wm)(d,{icon:"trash"})],10,W)])})),128))]))],64)})),128))]),(0,i._)("div",Y,[(0,i._)("button",{onClick:t[1]||(t[1]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.close&&e.close.apply(e,t)}),class:(0,g.C_)([{closeButton:e.showCloseButton,okButton:!e.showCloseButton},"transparent button"])},[e.showCloseButton?((0,i.wg)(),(0,i.j4)(d,{key:0,icon:"xmark"})):((0,i.wg)(),(0,i.j4)(d,{key:1,icon:"check"}))],2),(0,i.wy)((0,i._)("button",{onClick:t[2]||(t[2]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.reset&&e.reset.apply(e,t)}),class:"transparent button resetButton"},[(0,i.Wm)(d,{icon:"fa-solid fa-rotate-left"})],512),[[r.F8,e.showResetButton]])])])):(0,i.kq)("",!0)]})),_:1})}var K=n(655),$=n(981),J=(0,i.aZ)({props:["diplayItemCode","items"],emits:["hideItemDetail","updateAddOnToOrder"],data:function(){return{item:{},prevOrderList:[],currentOrderList:[],ImageSize:p.h2,warningClass:"",showCloseButton:!0,showResetButton:!1}},methods:{buildTerm:function(e){var t=[];return null!==e.minimumSelect&&t.push("min: ".concat(e.minimumSelect)),null!==e.maximumSelect&&t.push("max: ".concat(e.maximumSelect)),e.duplicateSelect&&t.push("multiple"),"".concat(t.join(", "))},updateChoiceQty:function(e,t){var n=this;if(this.warningClass="",0===this.item.addOnGroups.length){var r=(0,$.uD)(this.currentOrderList,"name",e.name);r?r.qty+=t:this.pushCurrentOrder(e,t)}else this.currentOrderList=[],this.pushCurrentOrder(e,t),this.item.addOnGroups.forEach((function(e){if(null!==e.defaultSelect){var t=e.defaultSelect-1,r=e.addOns[t];n.pushCurrentOrderAddOnGroup(e,r,1)}}));this.showCloseButton=!1,this.showResetButton=!1},removeChoice:function(e){var t=(0,$.Rp)(this.currentOrderList,"name",e.name);this.currentOrderList.splice(t,1),0===this.currentOrderList.length&&(this.showCloseButton=!0,this.showResetButton=!1)},pushCurrentOrder:function(e,t){var n={itemCode:this.item.code,name:e.name,unitPrice:e.price,qty:t,total:0,addOnGroups:[],overallTotal:0};this.currentOrderList.push(n)},pushCurrentOrderAddOnGroup:function(e,t,n){var r={name:e.name,addOns:[{name:t.name,unitPrice:t.price,qty:n,total:t.price*n}]};this.currentOrderList[0].addOnGroups.push(r)},pushCurrentOrderAddOn:function(e,t,n){var r={name:t.name,unitPrice:t.price,qty:n,total:0};e.addOns.push(r)},updateAddOnQty:function(e,t,n){if(0===this.currentOrderList.length)return alert("Please select top choice first."),this.warningClass="warning",void(document.getElementById("itemComponentDetailContainer").scrollTop=0);this.currentOrderList.length>1&&(alert("Error !!!"),console.warn("got add on config = 1 order list"));var r=(0,$.uD)(this.item.addOnGroups,"name",e.name),i=(0,$.uD)(this.currentOrderList[0].addOnGroups,"name",e.name),o=(0,$.Rp)(this.currentOrderList[0].addOnGroups,"name",e.name),a=r;if(i){var s=(0,$.uD)(i.addOns,"name",t.name),d=(0,$.Rp)(i.addOns,"name",t.name);if(!r)return alert("Error !!!"),void console.warn("Must find! Clear all cache and redirect to home");if(a.noCharges){if(s)if(a.minimumSelect&&a.minimumSelect>0){var c=i.addOns.length;c>a.minimumSelect&&i.addOns.splice(d,1)}else i.addOns.splice(d,1);else if(a.maximumSelect&&a.maximumSelect>0){c=i.addOns.length;c>=a.maximumSelect&&i.addOns.splice(0,1),this.pushCurrentOrderAddOn(i,t,n)}0===i.addOns.length&&this.currentOrderList[0].addOnGroups.splice(o,1)}else if(a.maximumSelect&&a.maximumSelect>0){c=(0,$.dD)(i.addOns,"qty");if(c>=a.maximumSelect)return void alert("Warning, You have hit the maximum (".concat(a.maximumSelect,")select."));if(s){if(a.duplicateSelect){s.qty+=n;var u=this.currentOrderList[0].addOnGroups.reduce((function(e,t){return e+(0,$.dD)(t.addOns,"total")}),0);this.currentOrderList[0].overallTotal=this.currentOrderList[0].total+u}}else this.pushCurrentOrderAddOn(i,t,n)}this.showCloseButton=!1}else this.pushCurrentOrderAddOnGroup(e,t,n)},removeAddOn:function(e,t){var n=(0,$.uD)(this.currentOrderList[0].addOnGroups,"name",e.name),r=(0,$.Rp)(n.addOns,"name",t.name);null===n||void 0===n||n.addOns.splice(r,1)},getChoiceQty:function(e){var t=(0,$.uD)(this.currentOrderList,"name",e.name);return!!t&&t.qty},getAddOnQty:function(e,t){if(0===this.currentOrderList.length)return!1;var n=(0,$.uD)(this.currentOrderList[0].addOnGroups,"name",e.name);if(n){var r=(0,$.uD)(n.addOns,"name",t.name);return!!r&&r.qty}return!1},getAddOnConfigDuplicateSelect:function(e,t){var n=(0,$.uD)(this.items,"code",e.itemCode);return(0,$.uD)(n.addOnGroups,"name",t.name).duplicateSelect},close:function(){var e,t=this;if(0!==this.currentOrderList.length){var n="";if(this.item.addOnGroups.forEach((function(e){if(void 0!==e.minimumSelect&&e.minimumSelect>0){var r=(0,$.uD)(t.currentOrderList[0].addOnGroups,"name",e.name),i=null;r&&(i=(0,$.dD)(r.addOns,"qty")),(!r||i<e.minimumSelect)&&(n+="At least select ".concat(e.minimumSelect,' "').concat(e.name,'"\n'))}})),""!==n)return this.showResetButton=!0,void alert(n);if(0===this.item.orderList.length)return(e=this.item.orderList).push.apply(e,this.currentOrderList),this.currentOrderList=[],void this.$emit("hideItemDetail");this.currentOrderList.forEach((function(e){var n=(0,$.uD)(t.item.orderList,"name",e.name);if(n)if(0===t.item.addOnGroups.length)n.qty+=e.qty;else{var r=e.addOnGroups.every((function(e){var t=(0,$.uD)(n.addOnGroups,"name",e.name);return!(!t||e.addOns.length!==t.addOns.length)&&e.addOns.every((function(e){var n=(0,$.uD)(t.addOns,"name",e.name);return!!n&&e.qty===n.qty}))}));r?n.qty++:t.item.orderList.push(e)}else t.item.orderList.push(e)})),this.$emit("hideItemDetail")}else this.$emit("hideItemDetail")},reset:function(){this.currentOrderList=[],this.showCloseButton=!0},convertFlickrImage:function(e,t){return(0,$.AF)(e,t)}},watch:{diplayItemCode:function(e){null!==e&&(this.item=(0,$.uD)(this.items,"code",e),this.prevOrderList=(0,K.ev)([],this.item.orderList,!0),this.prevOrderList.forEach((function(e){e.addOnGroups=(0,K.ev)([],e.addOnGroups,!0),e.addOnGroups.forEach((function(e){e=(0,K.pi)({},e),e.addOns=(0,K.ev)([],e.addOns,!0)}))})),this.showCloseButton=!0,this.showResetButton=!1,this.currentOrderList=[])}}}),V=n(744);const X=(0,V.Z)(J,[["render",Z],["__scopeId","data-v-3b1ee509"]]);var ee=X,te=function(e){return(0,i.dD)("data-v-0936ab0a"),e=e(),(0,i.Cn)(),e},ne={class:"footer"},re=te((function(){return(0,i._)("span",null,"Home",-1)})),ie=te((function(){return(0,i._)("span",null,"Order",-1)})),oe=te((function(){return(0,i._)("span",null,"Info",-1)})),ae={class:"total"};function se(e,t,n,o,a,s){var d=(0,i.up)("font-awesome-icon"),c=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",ne,[(0,i.Wm)(c,{to:{name:"home"},class:"nav"},{default:(0,i.w5)((function(){return[(0,i.Wm)(d,{icon:"house"}),re]})),_:1}),(0,i.Wm)(c,{to:{name:"orderList"},class:"nav"},{default:(0,i.w5)((function(){return[(0,i.Wm)(d,{icon:"square-check"}),ie,(0,i.wy)((0,i._)("div",{class:"count"},(0,g.zw)(e.totalOrderQty),513),[[r.F8,e.totalOrderQty>0]])]})),_:1}),(0,i.Wm)(c,{to:{name:"info"},class:"nav"},{default:(0,i.w5)((function(){return[(0,i.Wm)(d,{icon:"circle-info"}),oe]})),_:1}),(0,i._)("div",ae,[(0,i._)("p",null,[(0,i.Uk)(" Total "),(0,i._)("span",null,"RM "+(0,g.zw)(e.totalOrderAmount.toFixed(2)),1)])]),(0,i._)("button",{onClick:t[0]||(t[0]=function(t){return e.showOrderListModal()}),class:(0,g.C_)([{disabled:0===e.totalOrderQty},"nav cta"])}," Order Now ",2)])}var de=(0,i.aZ)({props:["totalOrderAmount","totalOrderQty"],emits:["showOrderListModal"],methods:{showOrderListModal:function(){this.$emit("showOrderListModal")}}});const ce=(0,V.Z)(de,[["render",se],["__scopeId","data-v-0936ab0a"]]);var ue,le=ce,me=function(e){return(0,i.dD)("data-v-8e95f41e"),e=e(),(0,i.Cn)(),e},fe={class:"overlayContainer"},he=me((function(){return(0,i._)("div",{class:"overlay"},null,-1)})),pe={class:"alignCenter"},ge={class:"container"},ye=me((function(){return(0,i._)("div",{class:"header"},[(0,i._)("h3",{class:"title"},"ORDER")],-1)})),ve={class:"rows"},we={key:0,class:"groupTitle"},Oe={key:0,class:"orderHistory"},De={class:"groupTitle"},Ce=me((function(){return(0,i._)("dt",null,"Subtotal",-1)})),_e={key:0},ke={key:1},Se={key:2},be={key:3},Le=me((function(){return(0,i._)("dt",null,"Rouding Adj",-1)})),Ie=me((function(){return(0,i._)("dt",null,"Total",-1)})),He={key:0,class:"CTAButton loading"};function Ae(e,t,n,o,a,s){var d=(0,i.up)("item-component"),c=(0,i.up)("font-awesome-icon");return(0,i.wg)(),(0,i.j4)(r.uT,{name:"show"},{default:(0,i.w5)((function(){return[(0,i.wy)((0,i._)("div",fe,[he,(0,i._)("div",pe,[(0,i._)("div",ge,[ye,(0,i._)("div",ve,[(0,i._)("div",{class:(0,g.C_)({currentOrder:e.orderHistory})},[e.orderHistory?((0,i.wg)(),(0,i.iD)("p",we,"Current Order")):(0,i.kq)("",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.filteredItemOrderList,(function(t){return(0,i.wg)(),(0,i.j4)(d,{key:t.code,item:t,isSubmitLoading:e.isSubmitLoading,useFor:"orderListModal"},null,8,["item","isSubmitLoading"])})),128))],2),e.orderHistory?((0,i.wg)(),(0,i.iD)("div",Oe,[(0,i._)("p",De,[(0,i.Uk)(" Previous Order #"+(0,g.zw)(e.orderHistory.orderNo)+" ",1),(0,i._)("span",null,"[ "+(0,g.zw)(e.orderHistory.status)+" ]",1)]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.filteredItemOrderHistoryList,(function(e){return(0,i.wg)(),(0,i.j4)(d,{key:e.code,item:e,useFor:"orderHistoryModal"},null,8,["item"])})),128))])):(0,i.kq)("",!0)]),(0,i._)("div",{class:(0,g.C_)(["footer",{withOrderHistory:e.orderHistory}])},[(0,i._)("dl",null,[Ce,(0,i._)("dd",null,(0,g.zw)(e.totalOrderAmount.toFixed(2)),1),e.systemData.serviceCharge10Percent?((0,i.wg)(),(0,i.iD)("dt",_e," Servic Charge 10% ")):(0,i.kq)("",!0),e.systemData.serviceCharge10Percent?((0,i.wg)(),(0,i.iD)("dd",ke,(0,g.zw)(e.chargeDetail.serviceCharge.toFixed(2)),1)):(0,i.kq)("",!0),e.systemData.tax6Percent?((0,i.wg)(),(0,i.iD)("dt",Se,"Tax 6%")):(0,i.kq)("",!0),e.systemData.tax6Percent?((0,i.wg)(),(0,i.iD)("dd",be,(0,g.zw)(e.chargeDetail.tax.toFixed(2)),1)):(0,i.kq)("",!0),Le,(0,i._)("dd",null,(0,g.zw)(e.chargeDetail.roundingAdj.toFixed(2)),1),Ie,(0,i._)("dd",null,"RM "+(0,g.zw)(e.chargeDetail.nettTotal.toFixed(2)),1)])],2),e.isSubmitLoading?((0,i.wg)(),(0,i.iD)("button",He,[(0,i.Uk)(" SUBMIT "),(0,i.Wm)(c,{icon:"spinner"})])):e.orderHistory?((0,i.wg)(),(0,i.iD)("button",{key:1,onClick:t[0]||(t[0]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.combineOrder&&e.combineOrder.apply(e,t)}),class:"CTAButton"}," COMBINE ")):((0,i.wg)(),(0,i.iD)("button",{key:2,onClick:t[1]||(t[1]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.confirmOrder&&e.confirmOrder.apply(e,t)}),class:"CTAButton"}," CONFIRM "))]),(0,i._)("button",{onClick:t[2]||(t[2]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.hideOrderListModal&&e.hideOrderListModal.apply(e,t)}),class:"button"},[(0,i.Wm)(c,{icon:"xmark"})])])],512),[[r.F8,e.isShowOrderListModal]])]})),_:1})}function Me(e,t,n,r){var i={};for(var o in r)i[o]=typeof r[o];var a={crud:e,sheet:t,data:r,dataType:i},s=fetch("https://script.google.com/macros/s/".concat(n,"/exec"),{method:"POST",mode:"no-cors",cache:"no-cache",headers:{"Content-Type":"application/json"},redirect:"follow",body:JSON.stringify(a)});return s}function qe(e,t,n){var r={};for(var i in n)r[i]=typeof n[i];var o={type:e,data:n,dataType:r},a=fetch("https://script.google.com/macros/s/".concat(t,"/exec"),{method:"POST",mode:"no-cors",cache:"no-cache",headers:{"Content-Type":"application/json"},redirect:"follow",body:JSON.stringify(o)});return a}function Fe(e){return e.toString().padStart(2,"0")}function ze(e){return[Fe(e.getDate()),Fe(e.getMonth()+1),e.getFullYear()].join("/")+" "+[Fe(e.getHours()),Fe(e.getMinutes()),Fe(e.getSeconds())].join(":")}function xe(e){return[e.getFullYear(),Fe(e.getMonth()+1),Fe(e.getDate())].join("-")+" "+[Fe(e.getHours()),Fe(e.getMinutes()),Fe(e.getSeconds())].join(":")}function Te(e){var t=e.substring(5,e.length-1),n=t.split(",");return new Date(+n[0],+n[1],+n[2],+n[3],+n[4],+n[5])}function Ee(e){if(!e.includes("Date"))return e;var t=e.substring(5,e.length-1),n=t.split(",");return xe(new Date(+n[0],+n[1],+n[2],+n[3],+n[4],+n[5]))}function Pe(e){var t=JSON.stringify(e);localStorage.setItem(ue.menuPandaCustomerInfo,t)}function Ne(){return JSON.parse(localStorage.getItem(ue.menuPandaCustomerInfo))}function je(e){var t=JSON.stringify(e);localStorage.setItem(ue.menuPandaOrderList,t)}function Be(){return JSON.parse(localStorage.getItem(ue.menuPandaOrderList))}function Ge(){localStorage.removeItem(ue.menuPandaOrderList)}(function(e){e["menuPandaCustomerInfo"]="menuPandaCustomerInfo",e["menuPandaOrderList"]="menuPandaOrderList"})(ue||(ue={}));var Qe=n(36),Ue=(0,i.aZ)({props:{items:{type:Object,required:!0},isShowOrderListModal:{type:Boolean,required:!0},totalOrderAmount:{type:Number,required:!0},systemData:{type:Object,required:!0},proxyData:{type:Object,required:!0},orderHistory:{type:Object}},emits:["hideOrderListModal","setOrderNo","showAlertModal"],data:function(){return{ImageSize:p.h2,isSubmitLoading:!1}},components:{ItemComponent:Qe.Z},computed:{filteredItemOrderList:function(){return this.items.filter((function(e){return e.orderList.length>0}))},filteredItemOrderHistoryList:function(){return this.items.filter((function(e){return e.orderHistoryList.length>0}))},chargeDetail:function(){return(0,$.DU)(this.systemData,this.totalOrderAmount)}},methods:{hideOrderListModal:function(){this.$emit("hideOrderListModal")},confirmOrder:function(){var e=this;this.isSubmitLoading=!0;var t=this.filteredItemOrderList.reduce((function(e,t){return e.concat(t.orderList)}),[]);t.forEach((function(e){e.status=p.TH.queueing}));var n={orderNo:"",status:p.iF.waiting,tableNo:0,orderList:JSON.stringify(t),total:this.totalOrderAmount,nettTotal:this.chargeDetail.nettTotal,note:"",createdDate:ze(new Date),deviceId:Ne().deviceId};qe("createOrder",this.proxyData.fetchCode,n).then((function(){e.filteredItemOrderList.forEach((function(e){return e.orderList=[]})),Ge(),fetch("".concat(e.proxyData.orderUrl,"sheet=Orders&tq=").concat(encodeURIComponent("select * where I = ")).concat(Ne().deviceId," and C = ").concat(encodeURIComponent('"'.concat(p.iF.waiting,'"')))).then((function(e){return e.text()})).then((function(t){e.isSubmitLoading=!1,e.$emit("setOrderNo",f(t)[0].orderNo),(0,$.gw)(e.hideOrderListModal(),1e3),(0,$.gw)(e.$emit("showAlertModal"),2e3)}))})).catch((function(){alert("Error! Submit fail, please inform waiters and order manually!"),console.warn("Submit Order Error! Click Confirm Order")}))},pushOrderList:function(e,t){var n=(0,$.uD)(e,"code",t.itemCode);t.status=p.TH.queueing,n.orderList.push(t)},updateOrderChoiceStatusAndQty:function(e,t){e.status===p.TH.completed&&(t.completedQty=e.qty),t.status=p.TH.queueing,t.qty+=e.qty},combineOrder:function(){var e=this;this.isSubmitLoading=!0,this.filteredItemOrderList.forEach((function(e){e.orderList.forEach((function(e){e.status=p.TH.queueing}))}));for(var t=[],n=0;n<this.filteredItemOrderHistoryList.length;n++){var r=this.filteredItemOrderHistoryList[n],i=(0,$.uD)(this.filteredItemOrderList,"code",r.code);if(!i){t.push.apply(t,r.orderHistoryList);break}for(var o=0;o<r.orderHistoryList.length;o++){var a=r.orderHistoryList[o],s=(0,$.uD)(i.orderList,"name",a.name);if(s&&a.addOnGroups.length===s.addOnGroups.length){for(var d=!1,c=0;c<a.addOnGroups.length;c++){var u=a.addOnGroups[c],l=(0,$.uD)(s.addOnGroups,"name",u.name);if(!l){d=!0;break}for(var m=!1,f=0;f<u.addOns.length;f++){var h=u.addOns[f],g=(0,$.uD)(l.addOns,"name",h.name);if(!g||h.qty!==g.qty||u.addOns.length!==l.addOns.length){m=!0;break}}if(m){d=!0;break}}d?t.push(a):this.updateOrderChoiceStatusAndQty(a,s)}else t.push(a)}}t.forEach((function(t){var n=(0,$.uD)(e.items,"code",t.itemCode);n.orderList.push(t)}));var y=this.filteredItemOrderList.reduce((function(e,t){return e.concat(t.orderList)}),[]);this.orderHistory.orderList=JSON.stringify(y),this.orderHistory.createdDate=ze(new Date(Te(this.orderHistory.createdDate))),Me(p.cO.update,"Orders",this.proxyData.fetchCode,this.orderHistory).then((function(){e.filteredItemOrderList.forEach((function(e){return e.orderList=[]})),Ge(),e.isSubmitLoading=!1,(0,$.gw)(e.hideOrderListModal(),1e3),(0,$.gw)(e.$emit("showAlertModal"),2e3)})).catch((function(){alert("Error! Submit fail, please inform waiters and order manually!"),console.warn("Submit Order Error! Click Combine Order")}))},convertFlickrImage:function(e,t){return(0,$.AF)(e,t)}},watch:{items:{handler:function(e){var t=e.every((function(e){return 0===e.orderList.length}));t&&this.$emit("hideOrderListModal")},deep:!0}}});const Re=(0,V.Z)(Ue,[["render",Ae],["__scopeId","data-v-8e95f41e"]]);var We=Re,Ye=function(e){return(0,i.dD)("data-v-c8a971c8"),e=e(),(0,i.Cn)(),e},Ze={class:"overlayContainer"},Ke=Ye((function(){return(0,i._)("div",{class:"overlay"},null,-1)})),$e={class:"alignCenter"},Je={class:"container"},Ve={class:"content"},Xe=Ye((function(){return(0,i._)("p",null,"Your order has been submit.",-1)}));function et(e,t,n,o,a,s){return(0,i.wg)(),(0,i.j4)(r.uT,{name:"show"},{default:(0,i.w5)((function(){return[(0,i.wy)((0,i._)("div",Ze,[Ke,(0,i._)("div",$e,[(0,i._)("div",Je,[(0,i._)("div",Ve,[(0,i._)("h2",null,"Order #"+(0,g.zw)(e.orderNo),1),Xe]),(0,i._)("button",{onClick:t[0]||(t[0]=function(t){return e.hideAlertModal()})},"Close")])])],512),[[r.F8,e.isShowAlertModal]])]})),_:1})}var tt=(0,i.aZ)({props:["isShowAlertModal","orderNo"],emits:["hideAlertModal"],methods:{hideAlertModal:function(){this.$emit("hideAlertModal"),(0,$.gw)(window.location.href="/",1e3)}}});const nt=(0,V.Z)(tt,[["render",et],["__scopeId","data-v-c8a971c8"]]);var rt=nt,it=function(e){return(0,i.dD)("data-v-60c2f920"),e=e(),(0,i.Cn)(),e},ot={key:0,class:"overlayContainer"},at=it((function(){return(0,i._)("div",{class:"overlay"},null,-1)})),st={class:"alignCenter"},dt={class:"container"},ct={class:"content"},ut={class:"rows"},lt={class:"footer"},mt=it((function(){return(0,i._)("dt",null,"Subtotal",-1)})),ft={key:0},ht={key:1},pt={key:2},gt={key:3},yt=it((function(){return(0,i._)("dt",null,"Rouding Adj",-1)})),vt=it((function(){return(0,i._)("dt",null,"Total",-1)}));function wt(e,t,n,o,a,s){var d=(0,i.up)("item-component");return(0,i.wg)(),(0,i.j4)(r.uT,{name:"show"},{default:(0,i.w5)((function(){return[e.isShowOrderHistoryModal?((0,i.wg)(),(0,i.iD)("div",ot,[at,(0,i._)("div",st,[(0,i._)("div",dt,[(0,i._)("div",ct,[(0,i._)("h2",null,[(0,i.Uk)(" Order #"+(0,g.zw)(e.orderHistory.orderNo)+" ",1),(0,i._)("span",null,"[ "+(0,g.zw)(e.orderHistory.status)+" ]",1)]),(0,i._)("p",null,"Your order has been "+(0,g.zw)(e.orderHistory.status)+".",1),(0,i._)("p",null,[(0,i.Uk)(" Created: "),(0,i._)("b",null,(0,g.zw)(e.dateToString(e.orderHistory.createdDate)),1)])]),(0,i._)("div",ut,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.filteredItems,(function(e){return(0,i.wg)(),(0,i.j4)(d,{key:e.code,item:e,useFor:"orderHistoryModal"},null,8,["item"])})),128))]),(0,i._)("div",lt,[(0,i._)("dl",null,[mt,(0,i._)("dd",null,(0,g.zw)(e.totalOrderAmount.toFixed(2)),1),e.systemData.serviceCharge10Percent?((0,i.wg)(),(0,i.iD)("dt",ft," Servic Charge 10% ")):(0,i.kq)("",!0),e.systemData.serviceCharge10Percent?((0,i.wg)(),(0,i.iD)("dd",ht,(0,g.zw)(e.chargeDetail.serviceCharge.toFixed(2)),1)):(0,i.kq)("",!0),e.systemData.tax6Percent?((0,i.wg)(),(0,i.iD)("dt",pt,"Tax 6%")):(0,i.kq)("",!0),e.systemData.tax6Percent?((0,i.wg)(),(0,i.iD)("dd",gt,(0,g.zw)(e.chargeDetail.tax.toFixed(2)),1)):(0,i.kq)("",!0),yt,(0,i._)("dd",null,(0,g.zw)(e.chargeDetail.roundingAdj.toFixed(2)),1),vt,(0,i._)("dd",null,"RM "+(0,g.zw)(e.chargeDetail.nettTotal.toFixed(2)),1)])]),(0,i._)("button",{onClick:t[0]||(t[0]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.hideOrderHistoryModal&&e.hideOrderHistoryModal.apply(e,t)}),class:"CTAButton"}," I UNDERSTAND ")])])])):(0,i.kq)("",!0)]})),_:1})}var Ot=(0,i.aZ)({props:{isShowOrderHistoryModal:{type:Boolean,required:!0},items:{type:Object,required:!0},orderHistories:{type:Object,required:!0},systemData:{type:Object,required:!0}},emits:["hideOrderHistoryModal"],components:{ItemComponent:Qe.Z},computed:{filteredItems:function(){return this.items.filter((function(e){return e.orderHistoryList.length>0}))},orderHistory:function(){return this.orderHistories[0]},chargeDetail:function(){return(0,$.DU)(this.systemData,this.totalOrderAmount)},totalOrderAmount:function(){return console.log(this.filteredItems),this.filteredItems.reduce((function(e,t){return e+t.orderHistoryList.reduce((function(e,t){return e+t.overallTotal}),0)}),0)}},methods:{hideOrderHistoryModal:function(){this.$emit("hideOrderHistoryModal")},convertFlickrImage:function(e,t){return(0,$.AF)(e,t)},dateToString:function(e){return Ee(e)}}});const Dt=(0,V.Z)(Ot,[["render",wt],["__scopeId","data-v-60c2f920"]]);var Ct=Dt,_t=(0,i.aZ)({components:{ItemDetailComponent:ee,FooterComponent:le,OrderListModalComponent:We,AlertModalComponent:rt,OrderHistoryModalComponent:Ct},setup:function(){var e,t=(0,i.FN)().proxy,n=(0,m.iH)({dataUrl:t.$getDataUrl,orderUrl:t.$getOrderUrl,fetchCode:t.$fetchCode}),r=(0,m.iH)({companyName:"",companyAddress:"",companyContact:"",companyDescription:"",serviceCharge10Percent:!1,tax6Percent:!1}),o=(0,m.iH)([]),a=(0,m.iH)([]),s=(0,m.iH)([]),d=(0,m.iH)([]),c=(0,m.iH)([]),u=(0,m.iH)(!0),l=fetch("".concat(n.value.dataUrl,"tqx=out:json&sheet=Datas")),g=Ne();if(g){var y=n.value.orderUrl+"sheet=Orders&tq="+encodeURIComponent("select * where I = ".concat(g.deviceId));e=fetch(y)}else Pe({deviceId:Date.now()});return Promise.all([l,e]).then((function(e){e[0].text().then((function(t){var i,l=h(t),m=(0,$.uD)(l,"name","System").datas[0],g=(0,$.uD)(l,"name","Categories").datas,y=(0,$.uD)(l,"name","AddOnList").datas,v=(0,$.uD)(l,"name","Items").datas,w=(0,$.uD)(l,"name","Banners").datas;window.document.title="".concat(m.companyName," - Menu Panda"),y=y.map((function(e,t){var n={name:e.name,addOns:[],noCharges:!1,minimumSelect:e.minimumSelect,maximumSelect:e.maximumSelect,defaultSelect:e.defaultSelect,duplicateSelect:e.duplicateSelect},r=e.choice.split(",").map((function(e){return e.trim()})),i=e.price.split(",").map((function(e){return parseFloat(e.trim())}));return i.length>=2&&r.length!==i.length&&(alert("Please inform programmer! Error Code: 02"),console.warn("dataItem from GS's AddOn row: "+(t+2))),1===i.length&&isNaN(i[0])&&(i=[]),r.forEach((function(e,t){var r;n.addOns.push({name:e,price:null!==(r=i[t])&&void 0!==r?r:0})})),n.noCharges=n.addOns.every((function(e){return 0===e.price})),n})),v=v.map((function(e,t){var n={categoryName:e.categoryName,image:e.image,code:e.code,name:e.name,description:e.description,note:e.note,choices:[],addOnGroups:[],orderList:[],orderHistoryList:[]};if(""===e.choice)n.choices.push({name:"",price:+e.price});else{var r=e.choice.split(","),i=e.price.split(",");r.length!==i.length&&(alert("Please inform programmer! Error Code: 03"),console.warn("dataItem from GS's Prices row: "+(t+2))),r.forEach((function(e,t){n.choices.push({name:e,price:+i[t].toString().trim()})}))}if(""!==e.addOn){var o=e.addOn.split(",");o.forEach((function(e){var t=(0,$.uD)(y,"name",e);n.addOnGroups.push(t)}))}return n})),g=g.map((function(e){return{name:e.name,items:v.filter((function(t){return t.categoryName===e.name}))}})),w=w.map((function(e){return{description:e.description,image:e.image,itemCode:e.itemCode,item:v.find((function(t){return t.code===e.itemCode}))}}));var O=null!==(i=Be())&&void 0!==i?i:[];O.forEach((function(e){var t=(0,$.uD)(v,"code",e.itemCode);t&&t.orderList.push(e)})),Ge(),r.value=m,o.value=g,a.value=v,s.value=w,d.value=O,u.value=!1,e[1]&&e[1].text().then((function(e){var t=f(e);t&&t.length>0&&(t=t.reduce((function(e,t){if([p.iF.waiting,p.iF.queueing,p.iF.preparing].includes(t.status)){var r=Te(t.createdDate),i=(new Date).getTime()/1e3/60,o=r.getTime()/1e3/60;i-o>=120?(t.note='Error! order over 2 hours "'.concat(t.status,'" to "').concat(p.iF.cancelled,'"'),t.status=p.iF.cancelled,t.createdDate=ze(new Date(Te(t.createdDate))),Me(p.cO.update,"Orders",n.value.fetchCode,t)):(t.orderList=JSON.parse(t.orderList),e.push(t))}return e}),[]),t.length>0&&(t.length>=2&&console.warn("Error! 不可能会有1个以上的 order history!"),t[0].orderList.forEach((function(e){var t=(0,$.uD)(v,"code",e.itemCode);t?(e.overallTotal=e.unitPrice*e.qty,t.orderHistoryList.push(e)):console.warn("auto remove due to code no found!")}))),c.value=t)}))}))})),{proxyData:n,systemData:r,banners:s,categories:o,orderHistories:c,items:a,orderList:d,isLoading:u}},data:function(){return{diplayItemCode:null,totalOrderAmount:0,totalOrderQty:0,isShowOrderListModal:!1,isShowOrderListModalLoading:!1,isShowAlertModal:!1,isShowOrderHistoryModal:!1,orderNo:""}},methods:{showItemDetail:function(e){this.diplayItemCode=e},hideItemDetail:function(){this.diplayItemCode=null},updateItemAndItemPrice:function(e){},showOrderListModal:function(){this.isShowOrderListModal=!0},hideOrderListModal:function(){this.isShowOrderListModal=!1},setOrderNo:function(e){this.orderNo=e},showAlertModal:function(){this.isShowAlertModal=!0},hideAlertModal:function(){this.isShowAlertModal=!1},showOrderHistoryModal:function(){this.isShowOrderHistoryModal=!0},hideOrderHistoryModal:function(){this.isShowOrderHistoryModal=!1}},watch:{items:{handler:function(e){var t=0,n=0,r=0,i=[];e.forEach((function(e){e.orderList.forEach((function(e){e.addOnGroups.forEach((function(t){t.addOns.forEach((function(t){t.total=t.unitPrice*t.qty*e.qty,n+=t.total}))})),e.total=e.unitPrice*e.qty,e.overallTotal=e.total+n,t+=e.overallTotal,r+=e.qty,n=0,i.push(e)}))})),this.totalOrderAmount=t,this.totalOrderQty=r,Ge(),i.length>0&&je(i)},deep:!0},orderHistories:function(e){e.length>0&&(this.orderNo=e[0].orderNo,(0,$.gw)(this.isShowOrderHistoryModal=!0,1e3))}}});const kt=(0,V.Z)(_t,[["render",l]]);var St=kt,bt=n(85),Lt=function(e){return(0,i.dD)("data-v-79383870"),e=e(),(0,i.Cn)(),e},It={class:"host"},Ht={class:"header"},At={class:"companyName"},Mt={class:"banners"},qt={class:"banner"},Ft=["src","alt"],zt={key:1,src:"https://via.placeholder.com/360/EFEFEF/8E8E8E?text=menupanda",class:"placeholder"},xt={key:2,class:"contentAbsolute"},Tt=Lt((function(){return(0,i._)("div",{class:"lineArea"},[(0,i._)("div",{class:"line"})],-1)})),Et={key:0},Pt={class:"header"},Nt={class:"title"};function jt(e,t,n,r,o,a){var s=(0,i.up)("item-component"),d=(0,i.up)("swiper-slide"),c=(0,i.up)("swiper"),u=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",It,[(0,i._)("div",Ht,[(0,i._)("h2",At,(0,g.zw)(e.systemData.companyName),1)]),(0,i._)("div",Mt,[(0,i.Wm)(c,{slidesPerView:1.1,spaceBetween:10,centeredSlides:!0},{default:(0,i.w5)((function(){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.banners,(function(t){return(0,i.wg)(),(0,i.j4)(d,{key:t.id},{default:(0,i.w5)((function(){return[(0,i._)("div",qt,[""!==t.image?((0,i.wg)(),(0,i.iD)("img",{key:0,src:e.convertFlickrImage(t.image,e.ImageSize.w800),alt:t.description},null,8,Ft)):((0,i.wg)(),(0,i.iD)("img",zt)),t.item?((0,i.wg)(),(0,i.iD)("div",xt,[(0,i._)("div",{class:"blurBg",style:(0,g.j5)({backgroundImage:"url("+e.convertFlickrImage(t.image,e.ImageSize.w800)+")"})},null,4),(0,i.Wm)(s,{useFor:"banner",item:t.item,onShowItemDetail:e.showItemDetail},null,8,["item","onShowItemDetail"])])):(0,i.kq)("",!0)])]})),_:2},1024)})),128))]})),_:1},8,["slidesPerView"])]),Tt,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.categories,(function(t){return(0,i.wg)(),(0,i.iD)("div",{key:t.id,class:"category"},[t.items.length>0?((0,i.wg)(),(0,i.iD)("section",Et,[(0,i._)("div",Pt,[(0,i._)("h2",Nt,(0,g.zw)(t.name),1),(0,i.Wm)(u,{to:{name:"category",params:{categoryName:t.name}},class:"button transparent getMore"},{default:(0,i.w5)((function(){return[(0,i.Uk)(" See All ")]})),_:2},1032,["to"])]),(0,i.Wm)(c,{slidesPerView:1.1,spaceBetween:10,centeredSlides:!0},{default:(0,i.w5)((function(){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.toPages(t.items),(function(t,n){return(0,i.wg)(),(0,i.j4)(d,{key:n},{default:(0,i.w5)((function(){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t,(function(t,n){return(0,i.wg)(),(0,i.j4)(s,{useFor:"item",key:n,item:t,onShowItemDetail:e.showItemDetail},null,8,["item","onShowItemDetail"])})),128))]})),_:2},1024)})),128))]})),_:2},1032,["slidesPerView"])])):(0,i.kq)("",!0)])})),128))])}var Bt=n(201),Gt=n(55),Qt=(0,i.aZ)({props:["systemData","banners","categories"],emits:["showItemDetail"],mounted:function(){window.document.title="".concat(this.systemData.companyName," - Menu Panda")},components:{ActionButtonComponent:Bt.Z,ItemComponent:Qe.Z,Swiper:Gt.tq,SwiperSlide:Gt.o5},data:function(){return{ImageSize:p.h2}},methods:{convertFlickrImage:function(e,t){return(0,$.AF)(e,t)},toPages:function(e){for(var t=[],n=null,r=0;r<e.length;r++)r%3===0&&(t.push([]),n=Math.floor(r/3)),t[n].push(e[r]);return t},showItemDetail:function(e){this.$emit("showItemDetail",e)}}});const Ut=(0,V.Z)(Qt,[["render",jt],["__scopeId","data-v-79383870"]]);var Rt=Ut,Wt="Menu Panda",Yt=[{path:"/",name:"home",component:Rt,meta:{scrollPos:{top:0,left:0}}},{path:"/c/:categoryName",name:"category",component:function(){return n.e(236).then(n.bind(n,236))}},{path:"/o",name:"orderList",component:function(){return n.e(396).then(n.bind(n,865))},meta:{title:"Order - ".concat(Wt)}},{path:"/i",name:"info",component:function(){return n.e(458).then(n.bind(n,458))},meta:{title:"Info - ".concat(Wt)}}],Zt=function(e,t,n){var r,i;if(e.name===t.name)return(null===(r=e.meta)||void 0===r?void 0:r.scrollPos)&&(e.meta.scrollPos.top=0),{left:0,top:0};var o=n||(null===(i=e.meta)||void 0===i?void 0:i.scrollPos)||{left:0,top:0};return new Promise((function(e,t){(0,$.gw)(e(o),500)}))},Kt=(0,bt.p7)({history:(0,bt.r5)(),routes:Yt,scrollBehavior:Zt});Kt.beforeEach((function(e,t,n){var r;return"string"===typeof e.meta.title&&(window.document.title=e.meta.title),(null===(r=t.meta)||void 0===r?void 0:r.scrollPos)&&(t.meta.scrollPos.top=document.documentElement.scrollTop),n()}));var $t=Kt,Jt=n(810),Vt=n(636),Xt=n(417);Vt.vI.add(Xt.mRB);var en=(0,r.ri)(St);en.config.globalProperties.$getDataUrl="https://docs.google.com/spreadsheets/d/1h_jbFB0VHLRz8-cZqI0Q5_eCYsxgdUGS8ZVuDgUn33I/gviz/tq?",en.config.globalProperties.$getOrderUrl="https://docs.google.com/spreadsheets/d/1SKRBVz__ajTLj5Fmpkbn635iyEYobg5sYg8rbm0k8Qc/gviz/tq?",en.config.globalProperties.$fetchCode="AKfycbzXH-7IMeiWa5tJc4FtuN34UkXdU5t9o5nC42budQ2aqAmQf6BCPX-Vwbq69E1McE17cw",en.use($t),en.component("font-awesome-icon",Jt.GN),en.mount("#app")},981:function(e,t,n){function r(e){var t=e.toFixed(2),n=parseInt(t.substring(t.length-1,t.length));return 0===n?0:n<=4?n/100*-1:(10-n)/100}function i(e,t){var n=e.includes("staticflickr.com");return n?t?e.replace(/_[a-z].jpg/,"_".concat(t,".jpg")):e:(alert("Image is not from staticflickr.com"),console.warn("Image is not from staticflickr.com"),"")}function o(e,t){return e.reduce((function(e,n){return e+n[t]}),0)}function a(e,t){var n=e.map((function(e){return+e[t]}));return Math.min.apply(Math,n)}function s(e,t,n){return e.find((function(e){return e[t]===n}))}function d(e,t,n){return e.findIndex((function(e){return e[t]===n}))}function c(e,t){setTimeout((function(){}),t)}function u(e,t){var n=e.serviceCharge10Percent?.1*t:0,i=e.tax6Percent?.06*t:0,o=r(t+parseFloat(n.toFixed(2))+parseFloat(i.toFixed(2))),a=t+n+i+o;return{serviceCharge:n,tax:i,roundingAdj:o,nettTotal:a}}n.d(t,{AF:function(){return i},DU:function(){return u},GI:function(){return a},Rp:function(){return d},dD:function(){return o},gw:function(){return c},uD:function(){return s}})},201:function(e,t,n){n.d(t,{Z:function(){return m}});var r=n(252),i=n(577),o=(0,r._)("span",null,"RM",-1),a=(0,r._)("span",null,"RM",-1);function s(e,t,n,s,d,c){return 0===e.item.addOnGroups.length&&1===e.item.choices.length?((0,r.wg)(),(0,r.iD)("button",{key:0,onClick:t[0]||(t[0]=function(t){return e.pushOrUpdateOrderChoiceQty()}),class:(0,i.C_)([{active:e.choiceQty},"primary addToCart amount"]),style:(0,i.j5)(e.fontSizeStyle)},[o,(0,r.Uk)(" "+(0,i.zw)(e.item.choices[0].price.toFixed(2)),1)],6)):((0,r.wg)(),(0,r.iD)("button",{key:1,onClick:t[1]||(t[1]=function(t){return e.showItemDetail(e.item.code)}),class:(0,i.C_)([{active:e.choiceQty},"primary addToCart amount"]),style:(0,i.j5)(e.fontSizeStyle)},[a,(0,r.Uk)(" "+(0,i.zw)(e.getMinPrice(e.item.choices).toFixed(2)),1)],6))}var d=n(981),c=(0,r.aZ)({props:{item:{type:Object,required:!0},fontSize:{type:Number}},emits:["showItemDetail"],computed:{fontSizeStyle:function(){return void 0!==this.fontSize?{fontSize:"".concat(this.fontSize,"px")}:void 0},choiceQty:function(){return(0,d.dD)(this.item.orderList,"qty")}},methods:{pushOrUpdateOrderChoiceQty:function(){if(0===this.item.orderList.length){var e={itemCode:this.item.code,name:this.item.choices[0].name,unitPrice:this.item.choices[0].price,qty:1,total:0,addOnGroups:[],overallTotal:0};this.item.orderList.push(e)}else this.item.orderList[0].qty++},showItemDetail:function(e){this.$emit("showItemDetail",e)},getMinPrice:function(e){return(0,d.GI)(e,"price")}}}),u=n(744);const l=(0,u.Z)(c,[["render",s]]);var m=l},36:function(e,t,n){n.d(t,{Z:function(){return te}});var r=n(252),i=n(577),o=n(963),a=function(e){return(0,r.dD)("data-v-b8b9d9ec"),e=e(),(0,r.Cn)(),e},s=["src"],d={key:1,src:"https://via.placeholder.com/120/EFEFEF/8E8E8E?text=menupanda"},c={key:0,class:"info"},u={class:"content"},l={class:"title truncate"},m={key:0,class:"details"},f={class:"choice"},h={class:"name"},p={class:"qty"},g=a((function(){return(0,r._)("span",{class:"line"},null,-1)})),y={class:"total"},v={class:"icon"},w=["onClick"],O={key:1,class:"details"},D={class:"choice"},C={class:"name"},_={class:"qty"},k=a((function(){return(0,r._)("span",{class:"line"},null,-1)})),S={class:"total"},b={class:"icon"},L={key:1,class:"layout"},I={class:"content"},H={class:"title"},A={class:"description truncate"},M={key:0,class:"note truncate"},q={key:0},F={class:"choice"},z={class:"name"},x={class:"qty"},T=a((function(){return(0,r._)("span",{class:"line"},null,-1)})),E={class:"total"},P={class:"title"},N={class:"name"},j=a((function(){return(0,r._)("span",{class:"line"},null,-1)})),B={class:"total"},G={class:"footer"},Q=a((function(){return(0,r._)("span",null,"/",-1)})),U=a((function(){return(0,r._)("span",null,"/",-1)})),R={class:"overrallTotal"},W={key:1,class:"action"},Y={class:"addedContent"};function Z(e,t,n,a,Z,K){var $=(0,r.up)("font-awesome-icon"),J=(0,r.up)("action-button-component");return(0,r.wg)(),(0,r.iD)("div",{class:(0,i.C_)(["item","for"+e.useFor])},[(0,r._)("div",{onClick:t[0]||(t[0]=function(t){return e.showItemDetail(e.item.code)}),class:"image"},[e.item.image?((0,r.wg)(),(0,r.iD)("img",{key:0,src:e.convertFlickrImage(e.item.image,e.ImageSize.w150)},null,8,s)):((0,r.wg)(),(0,r.iD)("img",d))]),"orderListModal"===e.useFor||"orderHistoryModal"===e.useFor?((0,r.wg)(),(0,r.iD)("div",c,[(0,r._)("div",u,[(0,r._)("p",l,[(0,r._)("b",null,(0,i.zw)(e.item.code),1),(0,r.Uk)(". "+(0,i.zw)(e.item.name),1)])]),"orderListModal"===e.useFor?((0,r.wg)(),(0,r.iD)("div",m,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.item.orderList,(function(t){return(0,r.wg)(),(0,r.iD)("div",{key:t.name,class:"detail"},[(0,r._)("p",f,[(0,r._)("span",h,(0,i.zw)(""===t.name?t.itemCode:t.name),1),(0,r._)("b",p,"x"+(0,i.zw)(t.qty)+" set",1),g,(0,r._)("span",y,(0,i.zw)(t.overallTotal.toFixed(2)),1),(0,r._)("span",v,[(0,r._)("button",{onClick:function(n){return e.removeOrderListItem(t)},class:(0,i.C_)([{disabled:e.isSubmitLoading},"transparent button"])},[(0,r.Wm)($,{icon:"trash"})],10,w)])])])})),128))])):(0,r.kq)("",!0),"orderHistoryModal"===e.useFor?((0,r.wg)(),(0,r.iD)("div",O,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.item.orderHistoryList,(function(t){return(0,r.wg)(),(0,r.iD)("div",{key:t.name,class:"detail"},[(0,r._)("pre",null,(0,i.zw)(t),1),(0,r._)("p",D,[(0,r._)("span",C,(0,i.zw)(""===t.name?t.itemCode:t.name),1),(0,r._)("b",_,"x"+(0,i.zw)(t.qty)+" set",1),k,(0,r._)("span",S,(0,i.zw)(t.overallTotal.toFixed(2)),1),(0,r._)("span",b,[t.status===e.choiceStatus.queueing?((0,r.wg)(),(0,r.j4)($,{key:0,icon:"fa-solid fa-spinner",title:"order is queueing"})):t.status===e.choiceStatus.preparing?((0,r.wg)(),(0,r.j4)($,{key:1,class:"fa-spin",icon:"fa-solid fa-spinner",title:"order is preparing"})):t.status===e.choiceStatus.completed?((0,r.wg)(),(0,r.j4)($,{key:2,icon:"fa-solid fa-circle-check",title:"order is completed"})):t.qty!==t.completedQty?((0,r.wg)(),(0,r.j4)($,{key:3,icon:"fa-solid fa-circle-half-stroke",title:"order is partial completed"})):(0,r.kq)("",!0)])])])})),128))])):(0,r.kq)("",!0)])):((0,r.wg)(),(0,r.iD)("div",L,[(0,r._)("div",I,[(0,r._)("p",H,(0,i.zw)(e.item.name),1),(0,r._)("p",A,(0,i.zw)(e.item.code)+". "+(0,i.zw)(e.item.description),1),""!==e.item.note?((0,r.wg)(),(0,r.iD)("p",M,(0,i.zw)(e.item.note),1)):(0,r.kq)("",!0)]),"orderList"===e.useFor?((0,r.wg)(),(0,r.iD)("div",q,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.item.orderList,(function(t){return(0,r.wg)(),(0,r.iD)("div",{key:t.name,class:"detail"},[(0,r._)("p",F,[(0,r._)("span",z,(0,i.zw)(""===t.name?t.itemCode:t.name),1),(0,r._)("b",x,"x"+(0,i.zw)(t.qty)+" set",1),T,(0,r._)("span",E,(0,i.zw)(t.total.toFixed(2)),1)]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.addOnGroups,(function(t){return(0,r.wg)(),(0,r.iD)("div",{class:"addOns",key:t.name},[(0,r._)("p",P,(0,i.zw)(t.name)+":",1),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.addOns,(function(n){return(0,r.wg)(),(0,r.iD)("p",{key:n.name,class:"addOn"},[(0,r._)("span",N,(0,i.zw)(n.name),1),(0,r.wy)((0,r._)("b",{class:"qty"},"x"+(0,i.zw)(n.qty),513),[[o.F8,e.getAddOnConfigDuplicateSelectByAddOnGroup(t)]]),j,(0,r._)("span",B,(0,i.zw)(n.total.toFixed(2)),1)])})),128))])})),128)),(0,r._)("div",G,[(0,r.Wm)($,{onClick:function(n){return e.updateOrderChoiceQty(t,1)},icon:"fa-solid fa-circle-plus"},null,8,["onClick"]),Q,(0,r.Wm)($,{onClick:function(n){return e.updateOrderChoiceQty(t,-1)},icon:"fa-solid fa-circle-minus"},null,8,["onClick"]),U,(0,r.Wm)($,{onClick:function(n){return e.removeOrderListItem(t)},icon:"trash"},null,8,["onClick"]),(0,r._)("p",R," RM "+(0,i.zw)(t.overallTotal.toFixed(2)),1)])])})),128))])):((0,r.wg)(),(0,r.iD)("div",W,[(0,r.Wm)(J,{item:e.item,fontSize:"category"===e.useFor?16:void 0,onShowItemDetail:e.showItemDetail},null,8,["item","fontSize","onShowItemDetail"]),(0,r.wy)((0,r._)("div",Y,[(0,r._)("b",null,(0,i.zw)(e.choiceQty),1),(0,r.Uk)(" Added / "),(0,r._)("span",{onClick:t[1]||(t[1]=function(t){return e.removeOrderListItem()})},"Remove")],512),[[o.F8,e.choiceQty]])]))]))],2)}var K=n(399),$=n(981),J=n(201),V=(0,r.aZ)({props:{useFor:{type:String,required:!0},item:{type:Object,required:!0},isSubmitLoading:{type:Boolean}},emits:["showItemDetail"],components:{ActionButtonComponent:J.Z},data:function(){return{ImageSize:K.h2,choiceStatus:K.TH}},computed:{choiceQty:function(){return(0,$.dD)(this.item.orderList,"qty")}},methods:{convertFlickrImage:function(e,t){return(0,$.AF)(e,t)},showItemDetail:function(e){this.$emit("showItemDetail",e)},removeOrderListItem:function(e){if(confirm("Remove?"))if(void 0!==e){var t=(0,$.Rp)(this.item.orderList,"itemCode",e.itemCode);this.item.orderList.splice(t,1)}else this.item.orderList=[]},updateOrderChoiceQty:function(e,t){1===e.qty&&-1===t?this.removeOrderListItem(e):e.qty+=t},getAddOnConfigDuplicateSelectByAddOnGroup:function(e){return(0,$.uD)(this.item.addOnGroups,"name",e.name).duplicateSelect}}}),X=n(744);const ee=(0,X.Z)(V,[["render",Z],["__scopeId","data-v-b8b9d9ec"]]);var te=ee}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,r,i,o){if(!r){var a=1/0;for(u=0;u<e.length;u++){r=e[u][0],i=e[u][1],o=e[u][2];for(var s=!0,d=0;d<r.length;d++)(!1&o||a>=o)&&Object.keys(n.O).every((function(e){return n.O[e](r[d])}))?r.splice(d--,1):(s=!1,o<a&&(a=o));if(s){e.splice(u--,1);var c=i();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[r,i,o]}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+e+"."+{236:"feb3fabf",396:"5b786e8b",458:"f2198f94"}[e]+".js"}}(),function(){n.miniCssF=function(e){return"css/"+e+"."+{236:"4d5159f6",396:"62b59cb6",458:"0d811d48"}[e]+".css"}}(),function(){n.miniCssF=function(e){return e+".css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="menupanda2:";n.l=function(r,i,o,a){if(e[r])e[r].push(i);else{var s,d;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var l=c[u];if(l.getAttribute("src")==r||l.getAttribute("data-webpack")==t+o){s=l;break}}s||(d=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var m=function(t,n){s.onerror=s.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},f=setTimeout(m.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=m.bind(null,s.onerror),s.onload=m.bind(null,s.onload),d&&document.head.appendChild(s)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p=""}(),function(){var e=function(e,t,n,r){var i=document.createElement("link");i.rel="stylesheet",i.type="text/css";var o=function(o){if(i.onerror=i.onload=null,"load"===o.type)n();else{var a=o&&("load"===o.type?"missing":o.type),s=o&&o.target&&o.target.href||t,d=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");d.code="CSS_CHUNK_LOAD_FAILED",d.type=a,d.request=s,i.parentNode.removeChild(i),r(d)}};return i.onerror=i.onload=o,i.href=t,document.head.appendChild(i),i},t=function(e,t){for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var i=n[r],o=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(o===e||o===t))return i}var a=document.getElementsByTagName("style");for(r=0;r<a.length;r++){i=a[r],o=i.getAttribute("data-href");if(o===e||o===t)return i}},r=function(r){return new Promise((function(i,o){var a=n.miniCssF(r),s=n.p+a;if(t(a,s))return i();e(r,s,i,o)}))},i={143:0};n.f.miniCss=function(e,t){var n={236:1,396:1,458:1};i[e]?t.push(i[e]):0!==i[e]&&n[e]&&t.push(i[e]=r(e).then((function(){i[e]=0}),(function(t){throw delete i[e],t})))}}(),function(){var e=function(e,t,n,r){var i=document.createElement("link");i.rel="stylesheet",i.type="text/css";var o=function(o){if(i.onerror=i.onload=null,"load"===o.type)n();else{var a=o&&("load"===o.type?"missing":o.type),s=o&&o.target&&o.target.href||t,d=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");d.code="CSS_CHUNK_LOAD_FAILED",d.type=a,d.request=s,i.parentNode.removeChild(i),r(d)}};return i.onerror=i.onload=o,i.href=t,document.head.appendChild(i),i},t=function(e,t){for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var i=n[r],o=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(o===e||o===t))return i}var a=document.getElementsByTagName("style");for(r=0;r<a.length;r++){i=a[r],o=i.getAttribute("data-href");if(o===e||o===t)return i}},r=function(r){return new Promise((function(i,o){var a=n.miniCssF(r),s=n.p+a;if(t(a,s))return i();e(r,s,i,o)}))},i={143:0};n.f.miniCss=function(e,t){var n={236:1,396:1,458:1};i[e]?t.push(i[e]):0!==i[e]&&n[e]&&t.push(i[e]=r(e).then((function(){i[e]=0}),(function(t){throw delete i[e],t})))}}(),function(){var e={143:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=o);var a=n.p+n.u(t),s=new Error,d=function(r){if(n.o(e,t)&&(i=e[t],0!==i&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}};n.l(a,d,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,r){var i,o,a=r[0],s=r[1],d=r[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(d)var u=d(n)}for(t&&t(r);c<a.length;c++)o=a[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(u)},r=self["webpackChunkmenupanda2"]=self["webpackChunkmenupanda2"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(433)}));r=n.O(r)})();
//# sourceMappingURL=app.2bce2d75.js.map