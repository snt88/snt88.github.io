(function(){"use strict";var t={191:function(t,e,n){var o=n(963),r=n(252),i=n.p+"img/logo.271dd957.png",a={key:0,class:"loadingPanda"},s=(0,r._)("img",{src:i,alt:"Menu Panda"},null,-1),d=(0,r._)("p",null,"Loading...",-1),c=[s,d],l={key:1};function u(t,e,n,i,s,d){var u=(0,r.up)("router-view"),m=(0,r.up)("item-detail-component"),f=(0,r.up)("footer-component"),h=(0,r.up)("order-list-modal-component"),p=(0,r.up)("alert-modal-component"),v=(0,r.up)("order-history-modal-component");return t.isLoading?((0,r.wg)(),(0,r.iD)("div",a,c)):((0,r.wg)(),(0,r.iD)("section",l,[(0,r.Wm)(u,{systemData:t.systemData,banners:t.banners,categories:t.categories,orderList:t.orderList,onShowItemDetail:t.showItemDetail,onAddToOrder:t.addToOrder},{default:(0,r.w5)((function(t){var e=t.Component;return[(0,r.Wm)(o.uT,{name:"fade",mode:"out-in"},{default:(0,r.w5)((function(){return[((0,r.wg)(),(0,r.j4)((0,r.LL)(e)))]})),_:2},1024)]})),_:1},8,["systemData","banners","categories","orderList","onShowItemDetail","onAddToOrder"]),(0,r.Wm)(m,{diplayItemId:t.diplayItemId,items:t.items,totalAmount:t.totalAmount,onCloseItemDetail:t.closeItemDetail,onAddToOrder:t.addToOrder},null,8,["diplayItemId","items","totalAmount","onCloseItemDetail","onAddToOrder"]),(0,r.Wm)(f,{orderList:t.orderList,totalAmount:t.totalAmount,onShowOrderListModal:t.showOrderListModal},null,8,["orderList","totalAmount","onShowOrderListModal"]),(0,r.Wm)(h,{isShowOrderListModal:t.isShowOrderListModal,orderList:t.orderList,totalAmount:t.totalAmount,systemData:t.systemData,proxyData:t.proxyData,customerInfo:t.customerInfo,onShowOrderListModal:t.showOrderListModal,onRemoveOrderItem:t.removeOrderItem,onOrderSubmitted:t.orderSubmitted},null,8,["isShowOrderListModal","orderList","totalAmount","systemData","proxyData","customerInfo","onShowOrderListModal","onRemoveOrderItem","onOrderSubmitted"]),(0,r.Wm)(p,{isShowAlertModal:t.isShowAlertModal,orderId:t.orderId,onShowAlertModal:t.showAlertModal},null,8,["isShowAlertModal","orderId","onShowAlertModal"]),(0,r.Wm)(v,{isShowOrderHistoryModal:t.isShowOrderHistoryModal,orderHistories:t.orderHistories,systemData:t.systemData,onShowOrderHistoryModal:t.showOrderHistoryModal},null,8,["isShowOrderHistoryModal","orderHistories","systemData","onShowOrderHistoryModal"])]))}var m,f,h=n(262);function p(t){var e=JSON.parse(t.substring(47).slice(0,-2)),n=e.table.cols;return 0===e.table.parsedNumHeaders?[]:e.table.rows.map((function(t){var e={};return t.c.forEach((function(t,o){"_"!==n[o].label.substring(0,1)&&(e[n[o].label]=null===t?"":t.v)})),e}))}(function(t){t["waiting"]="waiting",t["queueing"]="queueing",t["preparing"]="preparing",t["completed"]="completed"})(m||(m={})),function(t){t["create"]="create",t["createWithInsert"]="createWithInsert",t["reading"]="reading",t["update"]="update",t["delete"]="delete",t["orderId"]="orderId"}(f||(f={}));var v=n(577),g=function(t){return(0,r.dD)("data-v-7c29c664"),t=t(),(0,r.Cn)(),t},w={key:0,class:"overlayContainer"},y={class:"container"},_={class:"header"},D={class:"row"},O=["src"],b={class:"content"},C={class:"title"},I={class:"description truncate"},k={class:"bottom"},A=g((function(){return(0,r._)("span",null,"RM",-1)})),S={class:"addedContent"},M=g((function(){return(0,r._)("br",null,null,-1)})),x={class:"footer"},L={class:"total"};function E(t,e,n,i,a,s){var d=(0,r.up)("font-awesome-icon");return(0,r.wg)(),(0,r.j4)(o.uT,{name:"show"},{default:(0,r.w5)((function(){return[t.diplayItemId?((0,r.wg)(),(0,r.iD)("div",w,[(0,r._)("div",{onClick:e[0]||(e[0]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.close&&t.close.apply(t,e)}),class:"overlay"}),(0,r._)("div",y,[(0,r._)("div",_,[(0,r._)("div",{onClick:e[1]||(e[1]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.close&&t.close.apply(t,e)}),class:"transparent button"},[(0,r.Wm)(d,{icon:"xmark"})])]),(0,r._)("div",D,[t.item.image?((0,r.wg)(),(0,r.iD)("img",{key:0,src:t.item.image},null,8,O)):(0,r.kq)("",!0),(0,r._)("div",b,[(0,r._)("p",C,(0,v.zw)(t.item.name),1),(0,r._)("p",I,(0,v.zw)(t.item.code)+". "+(0,v.zw)(t.item.description),1),(0,r._)("div",k,[(0,r._)("button",{onClick:e[2]||(e[2]=function(e){return t.addToOrder(t.item.id)}),class:(0,v.C_)([{active:t.item.added>0},"primary addToCart amount"])},[A,(0,r.Uk)(" "+(0,v.zw)(t.item.price.toFixed(2)),1)],2),(0,r.wy)((0,r._)("div",S,[(0,r._)("b",null,(0,v.zw)(t.item.added),1),(0,r.Uk)(" Added"),M,(0,r.Uk)("in Basket ")],512),[[o.F8,t.item.added>0]])])])])]),(0,r._)("div",x,[(0,r._)("div",L,[(0,r._)("p",null,[(0,r.Uk)(" Total "),(0,r._)("span",null,"RM "+(0,v.zw)(t.totalAmount.toFixed(2)),1)])]),(0,r._)("div",{onClick:e[3]||(e[3]=function(e){return t.addToOrder(t.item.id)}),class:"cta"},"Add")])])):(0,r.kq)("",!0)]})),_:1})}var T=(0,r.aZ)({props:["diplayItemId","items","totalAmount"],emits:["closeItemDetail","addToOrder"],data:function(){return{item:{}}},methods:{addToOrder:function(t){var e=this;this.$emit("addToOrder",{id:t,qty:1}),setTimeout((function(){e.close()}),500)},close:function(){this.$emit("closeItemDetail")}},watch:{diplayItemId:function(t){null!==t&&(this.item=this.items.find((function(e){return e.id===t})))}}}),F=n(744);const H=(0,F.Z)(T,[["render",E],["__scopeId","data-v-7c29c664"]]);var P=H,z=function(t){return(0,r.dD)("data-v-75968be9"),t=t(),(0,r.Cn)(),t},j={class:"footer"},q=z((function(){return(0,r._)("span",null,"Home",-1)})),N=z((function(){return(0,r._)("span",null,"Order",-1)})),W=z((function(){return(0,r._)("span",null,"Info",-1)})),U={class:"total"};function R(t,e,n,i,a,s){var d=(0,r.up)("font-awesome-icon"),c=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",j,[(0,r.Wm)(c,{to:{name:"home"},class:"nav"},{default:(0,r.w5)((function(){return[(0,r.Wm)(d,{icon:"house"}),q]})),_:1}),(0,r.Wm)(c,{to:{name:"orderList"},class:"nav"},{default:(0,r.w5)((function(){return[(0,r.Wm)(d,{icon:"square-check"}),N,(0,r.wy)((0,r._)("div",{class:"count"},(0,v.zw)(t.totalQty),513),[[o.F8,t.totalQty>0]])]})),_:1}),(0,r.Wm)(c,{to:{name:"info"},class:"nav"},{default:(0,r.w5)((function(){return[(0,r.Wm)(d,{icon:"circle-info"}),W]})),_:1}),(0,r._)("div",U,[(0,r._)("p",null,[(0,r.Uk)(" Total "),(0,r._)("span",null,"RM "+(0,v.zw)(t.totalAmount.toFixed(2)),1)])]),(0,r._)("button",{onClick:e[0]||(e[0]=function(e){return t.showOrderListModal(!0)}),class:(0,v.C_)([{disabled:0===t.totalQty},"nav cta"])}," Order Now ",2)])}var $=(0,r.aZ)({props:["orderList","totalAmount"],emits:["showOrderList","showOrderListModal"],computed:{totalQty:function(){return this.orderList.reduce((function(t,e){return t+e.added}),0)}},methods:{showOrderList:function(){this.$emit("showOrderList",!0)},showOrderListModal:function(t){this.$emit("showOrderListModal",t)}}});const B=(0,F.Z)($,[["render",R],["__scopeId","data-v-75968be9"]]);var Z,K=B,J=function(t){return(0,r.dD)("data-v-50dc14b4"),t=t(),(0,r.Cn)(),t},Y={class:"overlayContainer"},Q=J((function(){return(0,r._)("div",{class:"overlay"},null,-1)})),V={class:"alignCenter"},G={class:"container"},X={class:"header"},tt=J((function(){return(0,r._)("div",{class:"left"},null,-1)})),et=J((function(){return(0,r._)("h3",{class:"title"},"Order",-1)})),nt={class:"rows"},ot=["src"],rt={key:1,src:"https://via.placeholder.com/72/EFEFEF/8E8E8E?text=menupanda",class:"image"},it={class:"info"},at={class:"content"},st={class:"title"},dt={class:"qty"},ct={class:"amount"},lt=["onClick"],ut={class:"footer"},mt=J((function(){return(0,r._)("div",{class:"blur"},null,-1)})),ft=J((function(){return(0,r._)("dt",null,"Subtotal",-1)})),ht={key:0},pt={key:1},vt={key:2},gt={key:3},wt=J((function(){return(0,r._)("dt",null,"Rouding Adj",-1)})),yt=J((function(){return(0,r._)("dt",null,"Total",-1)})),_t={key:1,class:"CTAButton loading"};function Dt(t,e,n,i,a,s){var d=(0,r.up)("font-awesome-icon");return(0,r.wg)(),(0,r.j4)(o.uT,{name:"show"},{default:(0,r.w5)((function(){return[(0,r.wy)((0,r._)("div",Y,[Q,(0,r._)("div",V,[(0,r._)("div",G,[(0,r._)("div",X,[tt,et,(0,r._)("button",{onClick:e[0]||(e[0]=function(e){return t.showOrderListModal(!1)}),class:"transparent button"},[(0,r.Wm)(d,{icon:"xmark"})])]),(0,r._)("div",nt,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.orderList,(function(e){return(0,r.wg)(),(0,r.iD)("div",{key:e.id,class:"row"},[e.image?((0,r.wg)(),(0,r.iD)("img",{key:0,src:e.image,class:"image"},null,8,ot)):((0,r.wg)(),(0,r.iD)("img",rt)),(0,r._)("div",it,[(0,r._)("div",at,[(0,r._)("p",st,(0,v.zw)(e.code)+". "+(0,v.zw)(e.name),1)]),(0,r._)("div",dt,"x"+(0,v.zw)(e.added),1),(0,r._)("div",ct,(0,v.zw)((e.price*e.added).toFixed(2)),1),(0,r._)("button",{onClick:function(n){return t.removeOrderItem(e.id)},class:(0,v.C_)([{disabled:t.loading},"transparent button"])},[(0,r.Wm)(d,{icon:"trash"})],10,lt)])])})),128))]),(0,r._)("div",ut,[mt,(0,r._)("dl",null,[ft,(0,r._)("dd",null,(0,v.zw)(t.totalAmount.toFixed(2)),1),t.systemData.serviceCharge10Percent?((0,r.wg)(),(0,r.iD)("dt",ht," Servic Charge 10% ")):(0,r.kq)("",!0),t.systemData.serviceCharge10Percent?((0,r.wg)(),(0,r.iD)("dd",pt,(0,v.zw)(t.serviceCharge.toFixed(2)),1)):(0,r.kq)("",!0),t.systemData.tax6Percent?((0,r.wg)(),(0,r.iD)("dt",vt,"Tax 6%")):(0,r.kq)("",!0),t.systemData.tax6Percent?((0,r.wg)(),(0,r.iD)("dd",gt,(0,v.zw)(t.tax.toFixed(2)),1)):(0,r.kq)("",!0),wt,(0,r._)("dd",null,(0,v.zw)(t.roundingAdj.toFixed(2)),1),yt,(0,r._)("dd",null,"RM "+(0,v.zw)(t.nettTotal.toFixed(2)),1)])]),t.loading?((0,r.wg)(),(0,r.iD)("button",_t,[(0,r.Uk)(" Submit "),(0,r._)("span",null,(0,v.zw)(t.dotDotDot),1)])):((0,r.wg)(),(0,r.iD)("button",{key:0,onClick:e[1]||(e[1]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.confirmOrder&&t.confirmOrder.apply(t,e)}),class:"CTAButton"}," Confirm "))])])],512),[[o.F8,t.isShowOrderListModal]])]})),_:1})}function Ot(t,e,n,o){var r={};for(var i in o)r[i]=typeof o[i];var a={crud:t,sheet:e,data:o,dataType:r},s=fetch("https://script.google.com/macros/s/".concat(n,"/exec"),{method:"POST",mode:"no-cors",cache:"no-cache",headers:{"Content-Type":"application/json"},redirect:"follow",body:JSON.stringify(a)});return s}function bt(t){return t.toString().padStart(2,"0")}function Ct(t){return[bt(t.getDate()),bt(t.getMonth()+1),t.getFullYear()].join("/")+" "+[bt(t.getHours()),bt(t.getMinutes()),bt(t.getSeconds())].join(":")}function It(t){var e=t.toFixed(2),n=parseInt(e.substring(e.length-1,e.length));return 0===n?0:n<=4?n/100*-1:(10-n)/100}function kt(t){var e=JSON.stringify(t);localStorage.setItem(Z.menuPandaCustomerInfo,e)}function At(){return JSON.parse(localStorage.getItem(Z.menuPandaCustomerInfo))}function St(t){var e=JSON.stringify(t);localStorage.setItem(Z.menuPandaOrderHistory,e)}function Mt(){localStorage.removeItem(Z.menuPandaOrderHistory)}(function(t){t["menuPandaCustomerInfo"]="menuPandaCustomerInfo",t["menuPandaOrderHistory"]="menuPandaOrderHistory"})(Z||(Z={}));var xt=(0,r.aZ)({props:["isShowOrderListModal","orderList","totalAmount","systemData","proxyData","customerInfo"],emits:["showOrderListModal","removeOrderItem","orderSubmitted"],data:function(){return{loading:!1,dotDotDot:"..."}},computed:{serviceCharge:function(){return this.systemData.serviceCharge10Percent?.1*this.totalAmount:0},tax:function(){return this.systemData.tax6Percent?.06*this.totalAmount:0},roundingAdj:function(){var t=parseFloat(this.serviceCharge.toFixed(2)),e=parseFloat(this.tax.toFixed(2));return It(this.totalAmount+t+e)},nettTotal:function(){return this.totalAmount+this.serviceCharge+this.tax+this.roundingAdj}},methods:{showOrderListModal:function(t){this.$emit("showOrderListModal",t)},removeOrderItem:function(t){this.$emit("removeOrderItem",t),0===this.orderList.length&&this.showOrderListModal(!1)},confirmOrder:function(){var t,e=this,n=At()?At().deviceId:null;this.loading=!0;var o=setInterval((function(){var t=e.dotDotDot.length;0===t?e.dotDotDot=".":1===t?e.dotDotDot="..":2===t?e.dotDotDot="...":3===t&&(e.dotDotDot="")}),1e3);if(!n){var r=Date.now();kt({deviceId:r}),n=r}t={id:0,status:m.waiting,tableNo:0,items:JSON.stringify(this.orderList),amount:parseFloat(this.nettTotal.toFixed(2)),createdDate:Ct(new Date),deviceId:n},Ot(f.createWithInsert,"Orders",this.proxyData.fetchCode,t).then((function(){e.loading=!1,clearInterval(o),e.$emit("orderSubmitted")})).catch((function(){alert("Fail to submit, please inform waiters!")}))}}});const Lt=(0,F.Z)(xt,[["render",Dt],["__scopeId","data-v-50dc14b4"]]);var Et=Lt,Tt=function(t){return(0,r.dD)("data-v-6f45a370"),t=t(),(0,r.Cn)(),t},Ft={class:"overlayContainer"},Ht=Tt((function(){return(0,r._)("div",{class:"overlay"},null,-1)})),Pt={class:"alignCenter"},zt={class:"container"},jt={class:"content"},qt=Tt((function(){return(0,r._)("p",null,"Your order has been submit.",-1)}));function Nt(t,e,n,i,a,s){return(0,r.wg)(),(0,r.j4)(o.uT,{name:"show"},{default:(0,r.w5)((function(){return[(0,r.wy)((0,r._)("div",Ft,[Ht,(0,r._)("div",Pt,[(0,r._)("div",zt,[(0,r._)("div",jt,[(0,r._)("h2",null,"Order #"+(0,v.zw)(t.padStart(t.orderId)),1),qt]),(0,r._)("button",{onClick:e[0]||(e[0]=function(e){return t.showAlertModal(!1)})},"Close")])])],512),[[o.F8,t.isShowAlertModal]])]})),_:1})}var Wt=(0,r.aZ)({props:["isShowAlertModal","orderId"],emits:["showAlertModal"],methods:{padStart:function(t){return t.toString().padStart(3,"0")},showAlertModal:function(t){this.$emit("showAlertModal",t),setTimeout((function(){window.location.reload()}),1e3)}}});const Ut=(0,F.Z)(Wt,[["render",Nt],["__scopeId","data-v-6f45a370"]]);var Rt=Ut,$t=function(t){return(0,r.dD)("data-v-14a26471"),t=t(),(0,r.Cn)(),t},Bt={key:0,class:"overlayContainer"},Zt=$t((function(){return(0,r._)("div",{class:"overlay"},null,-1)})),Kt={class:"alignCenter"},Jt={class:"container"},Yt={class:"content"},Qt={class:"rows"},Vt=["src"],Gt={key:1,src:"https://via.placeholder.com/72/EFEFEF/8E8E8E?text=menupanda",class:"image"},Xt={class:"info"},te={class:"content"},ee={class:"title"},ne={class:"qty"},oe={class:"amount"},re={class:"footer"},ie=$t((function(){return(0,r._)("div",{class:"blur"},null,-1)})),ae=$t((function(){return(0,r._)("dt",null,"Subtotal",-1)})),se={key:0},de={key:1},ce={key:2},le={key:3},ue=$t((function(){return(0,r._)("dt",null,"Rouding Adj",-1)})),me=$t((function(){return(0,r._)("dt",null,"Total",-1)}));function fe(t,e,n,i,a,s){return(0,r.wg)(),(0,r.j4)(o.uT,{name:"show"},{default:(0,r.w5)((function(){return[t.isShowOrderHistoryModal?((0,r.wg)(),(0,r.iD)("div",Bt,[Zt,(0,r._)("div",Kt,[(0,r._)("div",Jt,[(0,r._)("div",Yt,[(0,r._)("h2",null,[(0,r.Uk)(" Order #"+(0,v.zw)(t.padStart(t.orderHistories[0].orderId))+" ",1),(0,r._)("span",null,"[ "+(0,v.zw)(t.orderHistories[0].status)+" ]",1)]),(0,r._)("p",null,"Your order has been been "+(0,v.zw)(t.orderHistories[0].status)+".",1)]),(0,r._)("div",Qt,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.orderHistories[0].items,(function(t){return(0,r.wg)(),(0,r.iD)("div",{key:t.id,class:"row"},[t.image?((0,r.wg)(),(0,r.iD)("img",{key:0,src:t.image,class:"image"},null,8,Vt)):((0,r.wg)(),(0,r.iD)("img",Gt)),(0,r._)("div",Xt,[(0,r._)("div",te,[(0,r._)("p",ee,(0,v.zw)(t.code)+". "+(0,v.zw)(t.name),1)]),(0,r._)("div",ne,"x"+(0,v.zw)(t.added),1),(0,r._)("div",oe,(0,v.zw)((t.price*t.added).toFixed(2)),1)])])})),128))]),(0,r._)("div",re,[ie,(0,r._)("dl",null,[ae,(0,r._)("dd",null,(0,v.zw)(t.totalAmount.toFixed(2)),1),t.systemData.serviceCharge10Percent?((0,r.wg)(),(0,r.iD)("dt",se," Servic Charge 10% ")):(0,r.kq)("",!0),t.systemData.serviceCharge10Percent?((0,r.wg)(),(0,r.iD)("dd",de,(0,v.zw)(t.serviceCharge.toFixed(2)),1)):(0,r.kq)("",!0),t.systemData.tax6Percent?((0,r.wg)(),(0,r.iD)("dt",ce,"Tax 6%")):(0,r.kq)("",!0),t.systemData.tax6Percent?((0,r.wg)(),(0,r.iD)("dd",le,(0,v.zw)(t.tax.toFixed(2)),1)):(0,r.kq)("",!0),ue,(0,r._)("dd",null,(0,v.zw)(t.roundingAdj.toFixed(2)),1),me,(0,r._)("dd",null,"RM "+(0,v.zw)(t.nettTotal.toFixed(2)),1)])]),(0,r._)("button",{onClick:e[0]||(e[0]=function(e){return t.showOrderHistoryModal(!1)})},"I understand")])])])):(0,r.kq)("",!0)]})),_:1})}var he=(0,r.aZ)({props:["isShowOrderHistoryModal","orderHistories","systemData"],emits:["showOrderHistoryModal"],computed:{totalAmount:function(){return this.orderHistories[0].items.reduce((function(t,e){return t+=e.price*e.added,t}),0)},serviceCharge:function(){return this.systemData.serviceCharge10Percent?.1*this.totalAmount:0},tax:function(){return this.systemData.tax6Percent?.06*this.totalAmount:0},roundingAdj:function(){var t=parseFloat(this.serviceCharge.toFixed(2)),e=parseFloat(this.tax.toFixed(2));return It(this.totalAmount+t+e)},nettTotal:function(){return this.totalAmount+this.serviceCharge+this.tax+this.roundingAdj}},methods:{padStart:function(t){return t.toString().padStart(3,"0")},showOrderHistoryModal:function(t){this.$emit("showOrderHistoryModal",t)}}});const pe=(0,F.Z)(he,[["render",fe],["__scopeId","data-v-14a26471"]]);var ve=pe,ge=(0,r.aZ)({components:{ItemDetailComponent:P,FooterComponent:K,OrderListModalComponent:Et,AlertModalComponent:Rt,OrderHistoryModalComponent:ve},setup:function(){var t,e=(0,r.FN)().proxy,n=(0,h.iH)({url:e.$getUrl,fetchCode:e.$fetchCode}),o=(0,h.iH)({id:1,companyName:"...",companyAddress:"",companyContact:"",companyDescription:"",serviceCharge10Percent:!1,tax6Percent:!1}),i=(0,h.iH)([{id:1,image:"",description:"",itemId:0}]),a=(0,h.iH)([]),s=(0,h.iH)([]),d=(0,h.iH)([]),c=(0,h.iH)([]),l=(0,h.iH)(),u=(0,h.iH)(!0),f=fetch("".concat(n.value.url,"tqx=out:json&sheet=Categories")),v=fetch("".concat(n.value.url,"tqx=out:json&sheet=Banners")),g=fetch("".concat(n.value.url,"tqx=out:json&sheet=Items")),w=fetch("".concat(n.value.url,"tqx=out:json&sheet=System")),y=At();return y&&(t=fetch("".concat(n.value.url,"sheet=Orders&tq=").concat(encodeURIComponent("select * where K = ")).concat(y.deviceId," and C != ").concat(encodeURIComponent('"'.concat(m.completed,'"')))),l.value=y),Promise.all([f,v,g,w,t]).then((function(t){t[0].text().then((function(e){var n=p(e);n.forEach((function(t){return t.items=[]})),t[1].text().then((function(e){var o=p(e);t[2].text().then((function(t){var e=p(t);e.forEach((function(t){var e=n.find((function(e){return e.name===t.category}));t.added=0,e.items.push(t),o.forEach((function(e){e.itemId===t.id&&(e.item=t)}))})),a.value=n,i.value=o,s.value=e,d.value=[],u.value=!1}))}))})),t[3].text().then((function(t){o.value=p(t)[0],window.document.title="".concat(o.value.companyName," - Menu Panda")})),t[4]&&t[4].text().then((function(t){var e=p(t);e.forEach((function(t){t.items=JSON.parse(t.items)})),c.value=e}))})),{proxyData:n,systemData:o,banners:i,categories:a,items:s,orderList:d,orderHistories:c,customerInfo:l,isLoading:u}},data:function(){return{diplayItemId:null,orderList:[],isShowOrderListModal:!1,isShowAlertModal:!1,isShowOrderHistoryModal:!1,orderId:0}},computed:{totalAmount:function(){var t=0;return this.orderList.forEach((function(e){return t+=e.price*e.added})),t}},methods:{showItemDetail:function(t){this.diplayItemId=t},closeItemDetail:function(){this.diplayItemId=null},addToOrder:function(t){var e=this,n=this.items.find((function(e){return e.id===t.id}));n.added+=t.qty;var o=this.orderList.find((function(e){return e.id===t.id}));o||this.orderList.unshift(n),this.orderList.forEach((function(n,o){n.id===t.id&&0===n.added&&e.orderList.splice(o,1)})),St(this.orderList)},showOrderListModal:function(t){this.isShowOrderListModal=t},removeOrderItem:function(t){this.items.find((function(e){return e.id===t})).added=0;var e=this.orderList.findIndex((function(e){return e.id===t}));this.orderList.splice(e,1),this.orderList.length>0?St(this.orderList):Mt()},orderSubmitted:function(){var t=this;Mt(),fetch("https://script.google.com/macros/s/".concat(this.proxyData.fetchCode,"/exec"),{method:"POST",mode:"no-cors",cache:"no-cache",headers:{"Content-Type":"application/json"},redirect:"follow",body:JSON.stringify({crud:f.orderId,sheet:"Orders"})}).then((function(){fetch("".concat(t.proxyData.url,"sheet=Orders&tq=").concat(encodeURIComponent("select * where K = ")).concat(t.customerInfo.deviceId," and C = ").concat(encodeURIComponent('"'.concat(m.waiting,'"')))).then((function(t){return t.text()})).then((function(e){var n=p(e);n.length>1&&alert("Error!, Order Id should not empty more than 2 cells!"),t.orderId=n[0].orderId}))})),setTimeout((function(){t.isShowOrderListModal=!1,t.orderList=[],t.items.forEach((function(t){return t.added=0}))}),1e3),setTimeout((function(){t.isShowAlertModal=!0}),2e3)},showAlertModal:function(t){this.isShowAlertModal=t},showOrderHistoryModal:function(t){this.isShowOrderHistoryModal=t}},watch:{orderHistories:function(t,e){var n=this;t.length!==e.length&&setTimeout((function(){n.isShowOrderHistoryModal=!0}),1e3)}}});const we=(0,F.Z)(ge,[["render",u]]);var ye=we,_e=n(201),De=function(t){return(0,r.dD)("data-v-3ab59b30"),t=t(),(0,r.Cn)(),t},Oe={class:"host"},be={class:"header"},Ce={class:"companyName"},Ie={class:"banners"},ke=["src","alt"],Ae={key:1,src:"https://via.placeholder.com/360/EFEFEF/8E8E8E?text=menupanda",class:"placeholder"},Se={key:2,class:"contentAbsolute"},Me={class:"row"},xe=["onClick"],Le=["src"],Ee={key:1,src:"https://via.placeholder.com/120/EFEFEF/8E8E8E?text=menupanda"},Te={class:"content"},Fe={class:"title"},He={class:"description truncate"},Pe={class:"right"},ze=["onClick"],je=De((function(){return(0,r._)("span",null,"RM",-1)})),qe={class:"addedContent"},Ne=De((function(){return(0,r._)("div",{class:"lineArea"},[(0,r._)("div",{class:"line"})],-1)})),We={key:0},Ue={class:"header"},Re={class:"title"},$e={class:"pages"},Be=["onClick"],Ze=["src"],Ke={key:1,src:"https://via.placeholder.com/120/EFEFEF/8E8E8E?text=menupanda"},Je={class:"content"},Ye={class:"title"},Qe={class:"description truncate"},Ve={class:"right"},Ge=["onClick"],Xe=De((function(){return(0,r._)("span",null,"RM",-1)})),tn={class:"addedContent"};function en(t,e,n,i,a,s){var d=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",Oe,[(0,r._)("div",be,[(0,r._)("h2",Ce,(0,v.zw)(t.systemData.companyName),1)]),(0,r._)("div",Ie,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.banners,(function(e){return(0,r.wg)(),(0,r.iD)("div",{key:e.id,class:"banner"},[""!==e.image?((0,r.wg)(),(0,r.iD)("img",{key:0,src:e.image,alt:e.description},null,8,ke)):((0,r.wg)(),(0,r.iD)("img",Ae)),e.item?((0,r.wg)(),(0,r.iD)("div",Se,[(0,r._)("div",{class:"blurBg",style:(0,v.j5)({backgroundImage:"url("+e.image+")"})},null,4),(0,r._)("div",Me,[(0,r._)("div",{onClick:function(n){return t.showItemDetail(e.item.id)},class:"nav"},[e.item.image?((0,r.wg)(),(0,r.iD)("img",{key:0,src:e.item.image},null,8,Le)):((0,r.wg)(),(0,r.iD)("img",Ee)),(0,r._)("div",Te,[(0,r._)("p",Fe,(0,v.zw)(e.item.name),1),(0,r._)("p",He,(0,v.zw)(e.item.code)+". "+(0,v.zw)(e.item.description),1)])],8,xe),(0,r._)("div",Pe,[(0,r._)("button",{onClick:function(n){return t.addToOrder(e.item.id)},class:(0,v.C_)([{active:e.item.added>0},"primary addToCart amount"])},[je,(0,r.Uk)(" "+(0,v.zw)(e.item.price.toFixed(2)),1)],10,ze),(0,r.wy)((0,r._)("div",qe," Added ",512),[[o.F8,e.item.added>0]])])])])):(0,r.kq)("",!0)])})),128))]),Ne,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.categories,(function(e){return(0,r.wg)(),(0,r.iD)("div",{key:e.id,class:"category"},[e.items.length>0?((0,r.wg)(),(0,r.iD)("section",We,[(0,r._)("div",Ue,[(0,r._)("h2",Re,(0,v.zw)(e.name),1),(0,r.Wm)(d,{to:{name:"category",params:{categoryId:e.id}},class:"button transparent getMore"},{default:(0,r.w5)((function(){return[(0,r.Uk)(" See All ")]})),_:2},1032,["to"])]),(0,r._)("div",$e,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.toPages(e.items),(function(e,n){return(0,r.wg)(),(0,r.iD)("div",{key:n,class:"page"},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e,(function(e,n){return(0,r.wg)(),(0,r.iD)("div",{key:n,class:"row"},[(0,r._)("div",{onClick:function(n){return t.showItemDetail(e.id)},class:"nav"},[e.image?((0,r.wg)(),(0,r.iD)("img",{key:0,src:e.image},null,8,Ze)):((0,r.wg)(),(0,r.iD)("img",Ke)),(0,r._)("div",Je,[(0,r._)("p",Ye,(0,v.zw)(e.name),1),(0,r._)("p",Qe,(0,v.zw)(e.code)+". "+(0,v.zw)(e.description),1)])],8,Be),(0,r._)("div",Ve,[(0,r._)("button",{onClick:function(n){return t.addToOrder(e.id)},class:(0,v.C_)([{active:e.added>0},"primary addToCart amount"])},[Xe,(0,r.Uk)(" "+(0,v.zw)(e.price.toFixed(2)),1)],10,Ge),(0,r.wy)((0,r._)("div",tn,[(0,r._)("b",null,(0,v.zw)(e.added),1),(0,r.Uk)(" Added ")],512),[[o.F8,e.added>0]])])])})),128))])})),128))])])):(0,r.kq)("",!0)])})),128))])}var nn=(0,r.aZ)({props:["systemData","banners","categories"],emits:["showItemDetail","addToOrder"],mounted:function(){window.document.title="".concat(this.systemData.companyName," - Menu Panda")},methods:{toPages:function(t){for(var e=[],n=null,o=0;o<t.length;o++)o%3===0&&(e.push([]),n=Math.floor(o/3)),e[n].push(t[o]);return e},showItemDetail:function(t){this.$emit("showItemDetail",t)},addToOrder:function(t){this.$emit("addToOrder",{id:t,qty:1})}}});const on=(0,F.Z)(nn,[["render",en],["__scopeId","data-v-3ab59b30"]]);var rn=on,an="Menu Panda",sn=[{path:"/",name:"home",component:rn,meta:{scrollPos:{top:0,left:0}}},{path:"/c/:categoryId",name:"category",component:function(){return n.e(664).then(n.bind(n,664))}},{path:"/o",name:"orderList",component:function(){return n.e(597).then(n.bind(n,807))},meta:{title:"Order - ".concat(an)}},{path:"/i",name:"info",component:function(){return n.e(893).then(n.bind(n,893))},meta:{title:"Info - ".concat(an)}}],dn=function(t,e,n){var o,r;if(t.name===e.name)return(null===(o=t.meta)||void 0===o?void 0:o.scrollPos)&&(t.meta.scrollPos.top=0),{left:0,top:0};var i=n||(null===(r=t.meta)||void 0===r?void 0:r.scrollPos)||{left:0,top:0};return new Promise((function(t,e){setTimeout((function(){t(i)}),500)}))},cn=(0,_e.p7)({history:(0,_e.r5)(),routes:sn,scrollBehavior:dn});cn.beforeEach((function(t,e,n){var o;return"string"===typeof t.meta.title&&(window.document.title=t.meta.title),(null===(o=e.meta)||void 0===o?void 0:o.scrollPos)&&(e.meta.scrollPos.top=document.documentElement.scrollTop),n()}));var ln=cn,un=n(810),mn=n(636),fn=n(417);mn.vI.add(fn.mRB);var hn=(0,o.ri)(ye);hn.config.globalProperties.$getUrl="https://docs.google.com/spreadsheets/d/1_ARt4Am1LxWkPghf6VmMdAnhA2DDEmwtd4mynuM_NAM/gviz/tq?",hn.config.globalProperties.$fetchCode="AKfycbyohl1iw4tl0BeSXfAW36WrVd5s1r3IJDyHqeI4ksybEEBHc2EyIN9IjEM1EKxb6fvHmw",hn.use(ln),hn.component("font-awesome-icon",un.GN),hn.mount("#app")}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={exports:{}};return t[o](i,i.exports,n),i.exports}n.m=t,function(){var t=[];n.O=function(e,o,r,i){if(!o){var a=1/0;for(l=0;l<t.length;l++){o=t[l][0],r=t[l][1],i=t[l][2];for(var s=!0,d=0;d<o.length;d++)(!1&i||a>=i)&&Object.keys(n.O).every((function(t){return n.O[t](o[d])}))?o.splice(d--,1):(s=!1,i<a&&(a=i));if(s){t.splice(l--,1);var c=r();void 0!==c&&(e=c)}}return e}i=i||0;for(var l=t.length;l>0&&t[l-1][2]>i;l--)t[l]=t[l-1];t[l]=[o,r,i]}}(),function(){n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){n.f={},n.e=function(t){return Promise.all(Object.keys(n.f).reduce((function(e,o){return n.f[o](t,e),e}),[]))}}(),function(){n.u=function(t){return"js/"+t+"."+{597:"55698273",664:"850aa961",893:"fe29bbb1"}[t]+".js"}}(),function(){n.miniCssF=function(t){return"css/"+t+"."+{597:"3f7b9e98",664:"cf160671",893:"5af8ff3c"}[t]+".css"}}(),function(){n.miniCssF=function(t){return t+".css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="menupanda2:";n.l=function(o,r,i,a){if(t[o])t[o].push(r);else{var s,d;if(void 0!==i)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var u=c[l];if(u.getAttribute("src")==o||u.getAttribute("data-webpack")==e+i){s=u;break}}s||(d=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",e+i),s.src=o),t[o]=[r];var m=function(e,n){s.onerror=s.onload=null,clearTimeout(f);var r=t[o];if(delete t[o],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((function(t){return t(n)})),e)return e(n)},f=setTimeout(m.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=m.bind(null,s.onerror),s.onload=m.bind(null,s.onload),d&&document.head.appendChild(s)}}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){n.p=""}(),function(){var t=function(t,e,n,o){var r=document.createElement("link");r.rel="stylesheet",r.type="text/css";var i=function(i){if(r.onerror=r.onload=null,"load"===i.type)n();else{var a=i&&("load"===i.type?"missing":i.type),s=i&&i.target&&i.target.href||e,d=new Error("Loading CSS chunk "+t+" failed.\n("+s+")");d.code="CSS_CHUNK_LOAD_FAILED",d.type=a,d.request=s,r.parentNode.removeChild(r),o(d)}};return r.onerror=r.onload=i,r.href=e,document.head.appendChild(r),r},e=function(t,e){for(var n=document.getElementsByTagName("link"),o=0;o<n.length;o++){var r=n[o],i=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(i===t||i===e))return r}var a=document.getElementsByTagName("style");for(o=0;o<a.length;o++){r=a[o],i=r.getAttribute("data-href");if(i===t||i===e)return r}},o=function(o){return new Promise((function(r,i){var a=n.miniCssF(o),s=n.p+a;if(e(a,s))return r();t(o,s,r,i)}))},r={143:0};n.f.miniCss=function(t,e){var n={597:1,664:1,893:1};r[t]?e.push(r[t]):0!==r[t]&&n[t]&&e.push(r[t]=o(t).then((function(){r[t]=0}),(function(e){throw delete r[t],e})))}}(),function(){var t=function(t,e,n,o){var r=document.createElement("link");r.rel="stylesheet",r.type="text/css";var i=function(i){if(r.onerror=r.onload=null,"load"===i.type)n();else{var a=i&&("load"===i.type?"missing":i.type),s=i&&i.target&&i.target.href||e,d=new Error("Loading CSS chunk "+t+" failed.\n("+s+")");d.code="CSS_CHUNK_LOAD_FAILED",d.type=a,d.request=s,r.parentNode.removeChild(r),o(d)}};return r.onerror=r.onload=i,r.href=e,document.head.appendChild(r),r},e=function(t,e){for(var n=document.getElementsByTagName("link"),o=0;o<n.length;o++){var r=n[o],i=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(i===t||i===e))return r}var a=document.getElementsByTagName("style");for(o=0;o<a.length;o++){r=a[o],i=r.getAttribute("data-href");if(i===t||i===e)return r}},o=function(o){return new Promise((function(r,i){var a=n.miniCssF(o),s=n.p+a;if(e(a,s))return r();t(o,s,r,i)}))},r={143:0};n.f.miniCss=function(t,e){var n={597:1,664:1,893:1};r[t]?e.push(r[t]):0!==r[t]&&n[t]&&e.push(r[t]=o(t).then((function(){r[t]=0}),(function(e){throw delete r[t],e})))}}(),function(){var t={143:0};n.f.j=function(e,o){var r=n.o(t,e)?t[e]:void 0;if(0!==r)if(r)o.push(r[2]);else{var i=new Promise((function(n,o){r=t[e]=[n,o]}));o.push(r[2]=i);var a=n.p+n.u(e),s=new Error,d=function(o){if(n.o(t,e)&&(r=t[e],0!==r&&(t[e]=void 0),r)){var i=o&&("load"===o.type?"missing":o.type),a=o&&o.target&&o.target.src;s.message="Loading chunk "+e+" failed.\n("+i+": "+a+")",s.name="ChunkLoadError",s.type=i,s.request=a,r[1](s)}};n.l(a,d,"chunk-"+e,e)}},n.O.j=function(e){return 0===t[e]};var e=function(e,o){var r,i,a=o[0],s=o[1],d=o[2],c=0;if(a.some((function(e){return 0!==t[e]}))){for(r in s)n.o(s,r)&&(n.m[r]=s[r]);if(d)var l=d(n)}for(e&&e(o);c<a.length;c++)i=a[c],n.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return n.O(l)},o=self["webpackChunkmenupanda2"]=self["webpackChunkmenupanda2"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(191)}));o=n.O(o)})();
//# sourceMappingURL=app.da2b7b97.js.map