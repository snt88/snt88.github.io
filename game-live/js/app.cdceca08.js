(function(){"use strict";var n={883:function(n,e,t){var i=t(963),o=t(252);function s(n,e,t,i,s,r){var a=(0,o.up)("router-view");return(0,o.wg)(),(0,o.j4)(a,{missions:n.missions,completedMissions:n.completedMissions,hero:n.hero,onCreateMission:n.createMission,onEditMission:n.editMission,onRemoveMission:n.removeMission,onCompleteMission:n.completeMission},null,8,["missions","completedMissions","hero","onCreateMission","onEditMission","onRemoveMission","onCompleteMission"])}var r,a=t(262);function l(n){return n.toString().padStart(2,"0")}function u(n){return[n.getFullYear(),l(n.getMonth()+1),l(n.getDate())].join("-")+" "+[l(n.getHours()),l(n.getMinutes()),l(n.getSeconds())].join(":")}function c(n){if(!n.includes("Date"))return n;var e=n.substring(5,n.length-1),t=e.split(",");return u(new Date(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function d(n){var e=JSON.parse(n.substring(47).slice(0,-2)),t=e.table.cols;return e.table.rows.map((function(n){var e={};return n.c.forEach((function(n,i){e[t[i].label]=n.v})),e}))}function p(n,e,t,i){var o={};for(var s in i)o[s]=typeof i[s];var r={crud:n,sheet:e,data:i,dataType:o};console.log(r),fetch("https://script.google.com/macros/s/".concat(t,"/exec"),{method:"POST",mode:"no-cors",cache:"no-cache",headers:{"Content-Type":"application/json"},redirect:"follow",body:JSON.stringify(r)}).then((function(n){return console.log(n)})).catch((function(){return alert("fail to update")}))}(function(n){n["create"]="create",n["reading"]="reading",n["update"]="update",n["delete"]="delete"})(r||(r={}));var m=t(201),f=t(577),h=t.p+"img/avatar.6ce26684.jpg",v=function(n){return(0,o.dD)("data-v-40eb97b6"),n=n(),(0,o.Cn)(),n},_={class:"host"},w=v((function(){return(0,o._)("div",{class:"header"},[(0,o._)("h3",null,"Dashboard"),(0,o._)("img",{class:"avatar",src:h})],-1)})),b={class:"hi"},g=v((function(){return(0,o._)("h1",null,[(0,o.Uk)("Hello, "),(0,o._)("br"),(0,o.Uk)("Mark Koo ðŸ‘‹")],-1)})),y={class:"subheader"},M={class:"title"},C={class:"desc"},x={class:"point"},k=v((function(){return(0,o._)("span",null,"Exp",-1)})),I=["onClick"],z=v((function(){return(0,o._)("p",null,"Create",-1)})),D={class:"subheader"},U={class:"title"},E={class:"desc"},j=v((function(){return(0,o._)("section",null,null,-1)}));function P(n,e,t,s,r,a){var l=(0,o.up)("font-awesome-icon");return(0,o.wg)(),(0,o.iD)("div",_,[w,(0,o._)("div",b,[g,(0,o._)("h5",null,"Level: "+(0,f.zw)(n.getLevelAndExp().level),1),(0,o._)("h5",null," Exp: "+(0,f.zw)(n.getLevelAndExp().exp)+" /"+(0,f.zw)(n.getLevelAndExp().maxLevelExp),1)]),(0,o._)("nav",null,[(0,o._)("button",{onClick:e[0]||(e[0]=function(e){n.$router.push({name:"home"}),n.nav="missions"}),class:(0,f.C_)([{transparent:"missions"!==n.nav},"btn"])}," Missions ",2),(0,o._)("button",{onClick:e[1]||(e[1]=function(e){n.$router.push({name:"home"}),n.nav="completed"}),class:(0,f.C_)([{transparent:"completed"!==n.nav},"btn"])}," Completed ",2)]),(0,o.wy)((0,o._)("section",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.missions,(function(e){return(0,o.wg)(),(0,o.iD)("div",{key:e.id,class:"card"},[(0,o._)("section",null,[(0,o._)("p",y,(0,f.zw)(e.minute)+" min",1),(0,o._)("h4",M,(0,f.zw)(e.title),1),(0,o._)("p",C,(0,f.zw)(e.description),1)]),(0,o._)("section",null,[(0,o._)("p",x,[(0,o.Uk)((0,f.zw)(e.point),1),k]),(0,o._)("button",{onClick:function(t){return n.$router.push({name:"onMission",params:{missionId:e.id}})},class:"btn purple small"}," Take It ",8,I)])])})),128)),(0,o._)("div",{onClick:e[2]||(e[2]=function(e){return n.$router.push({name:"createMission"})}),class:"card",style:{cursor:"pointer"}},[(0,o._)("section",null,[(0,o.Wm)(l,{icon:"fa-solid fa-plus"}),z])])],512),[[i.F8,"missions"===n.nav]]),(0,o.wy)((0,o._)("section",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.completedMissions,(function(e){return(0,o.wg)(),(0,o.iD)("div",{key:e.id,class:"card"},[(0,o._)("section",null,[(0,o._)("p",D,(0,f.zw)(n.dateToString(e.dateCreated)),1),(0,o._)("h4",U,(0,f.zw)(e.title),1),(0,o._)("p",E," Earn "+(0,f.zw)(e.point)+" experience / Duration: "+(0,f.zw)(e.minute)+" min ",1)]),j])})),128))],512),[[i.F8,"completed"===n.nav]])])}var q=t(810),F=(0,o.aZ)({props:["missions","completedMissions","hero"],components:{FontAwesomeIcon:q.GN},setup:function(){var n=(0,a.iH)(),e=(0,m.yj)().query.nav;return n.value=void 0!==e?e:"missions",{nav:n}},data:function(){return{firstLevelMaxExp:10,levelIncreaseRate:1.2}},methods:{getLevelAndExp:function(){var n=this.hero.exp,e=1,t=this.firstLevelMaxExp;while(n-t>=0)e++,n-=t,t*=this.levelIncreaseRate;return{level:e,exp:Math.round(n),maxLevelExp:Math.round(t)}},dateToString:function(n){return c(n)}}}),T=t(744);const A=(0,T.Z)(F,[["render",P],["__scopeId","data-v-40eb97b6"]]);var O=A,$=function(n){return(0,o.dD)("data-v-02024b33"),n=n(),(0,o.Cn)(),n},L={class:"host"},Z={class:"header"},S=$((function(){return(0,o._)("h3",null,"Create",-1)})),J=$((function(){return(0,o._)("div",{style:{width:"26px"}},null,-1)})),V={class:"form"},H={class:"formField"},K=$((function(){return(0,o._)("label",null,"Title",-1)})),N={class:"formField"},R=$((function(){return(0,o._)("label",null,"Minute",-1)})),W={class:"formField"},Y=$((function(){return(0,o._)("label",null,"Point",-1)})),G={class:"formField"},Q=$((function(){return(0,o._)("label",null,"Description",-1)}));function X(n,e,t,s,r,a){var l=(0,o.up)("font-awesome-icon");return(0,o.wg)(),(0,o.iD)("div",L,[(0,o._)("div",Z,[(0,o._)("button",{onClick:e[0]||(e[0]=function(e){return n.$router.push({name:"home"})}),class:"icon border"},[(0,o.Wm)(l,{icon:"fa-solid fa-arrow-left"})]),S,J]),(0,o._)("div",V,[(0,o._)("div",H,[K,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=function(e){return n.mission.title=e}),placeholder:"Mission A"},null,512),[[i.nr,n.mission.title]])]),(0,o._)("div",N,[R,(0,o.wy)((0,o._)("input",{type:"number","onUpdate:modelValue":e[2]||(e[2]=function(e){return n.mission.minute=e}),placeholder:"In minute",min:"1"},null,512),[[i.nr,n.mission.minute]])]),(0,o._)("div",W,[Y,(0,o.wy)((0,o._)("input",{type:"number","onUpdate:modelValue":e[3]||(e[3]=function(e){return n.mission.point=e}),placeholder:"Point",min:"1"},null,512),[[i.nr,n.mission.point]])]),(0,o._)("div",G,[Q,(0,o.wy)((0,o._)("textarea",{"onUpdate:modelValue":e[4]||(e[4]=function(e){return n.mission.description=e}),placeholder:"Note"},null,512),[[i.nr,n.mission.description]])]),(0,o._)("button",{onClick:e[5]||(e[5]=function(e){return n.createMission(n.mission)}),class:"btn large",type:"button"}," Create ")])])}var B=t(655),nn=(0,o.aZ)({emits:["createMission"],components:{FontAwesomeIcon:q.GN},data:function(){return{mission:{}}},methods:{createMission:function(n){this.$emit("createMission",(0,B.pi)({},n)),Qn.push({name:"home"})}}});const en=(0,T.Z)(nn,[["render",X],["__scopeId","data-v-02024b33"]]);var tn=en,on=function(n){return(0,o.dD)("data-v-383259f8"),n=n(),(0,o.Cn)(),n},sn={class:"host"},rn={class:"header"},an=on((function(){return(0,o._)("h3",null,"Edit",-1)})),ln=on((function(){return(0,o._)("div",{style:{width:"26px"}},null,-1)})),un={class:"form"},cn={class:"formField"},dn=on((function(){return(0,o._)("label",null,"Title",-1)})),pn={class:"formField"},mn=on((function(){return(0,o._)("label",null,"Minute",-1)})),fn={class:"formField"},hn=on((function(){return(0,o._)("label",null,"Point",-1)})),vn={class:"formField"},_n=on((function(){return(0,o._)("label",null,"Description",-1)}));function wn(n,e,t,s,r,a){var l=(0,o.up)("font-awesome-icon");return(0,o.wg)(),(0,o.iD)("div",sn,[(0,o._)("div",rn,[(0,o._)("button",{onClick:e[0]||(e[0]=function(e){return n.$router.go(-1)}),class:"icon border"},[(0,o.Wm)(l,{icon:"fa-solid fa-arrow-left"})]),an,ln]),(0,o._)("div",un,[(0,o._)("div",cn,[dn,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=function(e){return n.mission.title=e}),placeholder:"Mission A"},null,512),[[i.nr,n.mission.title]])]),(0,o._)("div",pn,[mn,(0,o.wy)((0,o._)("input",{type:"number","onUpdate:modelValue":e[2]||(e[2]=function(e){return n.mission.minute=e}),placeholder:"In minute",min:"1"},null,512),[[i.nr,n.mission.minute]])]),(0,o._)("div",fn,[hn,(0,o.wy)((0,o._)("input",{type:"number","onUpdate:modelValue":e[3]||(e[3]=function(e){return n.mission.point=e}),placeholder:"Point",min:"1"},null,512),[[i.nr,n.mission.point]])]),(0,o._)("div",vn,[_n,(0,o.wy)((0,o._)("textarea",{"onUpdate:modelValue":e[4]||(e[4]=function(e){return n.mission.description=e}),placeholder:"Note"},null,512),[[i.nr,n.mission.description]])]),(0,o._)("button",{onClick:e[5]||(e[5]=function(e){return n.editMission(n.mission)}),class:"btn large",type:"button"}," Update ")])])}var bn=(0,o.aZ)({props:["missions"],emits:["editMission"],components:{FontAwesomeIcon:q.GN},computed:{mission:function(){var n=+(0,m.yj)().params.missionId;return(0,B.pi)({},this.missions.find((function(e){return e.id===n})))}},methods:{editMission:function(n){this.$emit("editMission",(0,B.pi)({},n)),Qn.push("/")}}});const gn=(0,T.Z)(bn,[["render",wn],["__scopeId","data-v-383259f8"]]);var yn,Mn,Cn=gn,xn=function(n){return(0,o.dD)("data-v-a3501af6"),n=n(),(0,o.Cn)(),n},kn={key:0,class:"host"},In={class:"header"},zn={class:"info"},Dn={class:"duration"},Un={class:"title"},En={class:"exp"},jn={class:"desc"},Pn={class:"action"},qn={key:0,class:"run"},Fn=xn((function(){return(0,o._)("div",{class:"bar"},null,-1)})),Tn={class:"circle"},An={class:"point"},On=xn((function(){return(0,o._)("span",{class:"text"},"Exp",-1)})),$n={class:"title"},Ln=xn((function(){return(0,o._)("p",{class:"desc"},"You marked 3/5 taks are done!",-1)})),Zn={class:"actionButton"},Sn={key:0},Jn={key:1,class:"progressBar"},Vn={class:"progressText"},Hn={key:1};function Kn(n,e,t,s,r,a){var l=(0,o.up)("font-awesome-icon");return n.mission?((0,o.wg)(),(0,o.iD)("div",kn,[(0,o._)("div",In,[(0,o._)("button",{onClick:e[0]||(e[0]=function(e){return n.$router.push({name:"home"})}),class:"icon border"},[(0,o.Wm)(l,{icon:"fa-solid fa-arrow-left"})]),(0,o._)("section",null,[(0,o._)("button",{onClick:e[1]||(e[1]=function(e){return n.$router.push({name:"editMission",params:{missionId:n.mission.id}})}),class:"icon large"},[(0,o.Wm)(l,{icon:"fa-solid fa-pen-nib"})]),(0,o.wy)((0,o._)("button",{onClick:e[2]||(e[2]=function(e){return n.removeMission(n.mission)}),class:"icon large"},[(0,o.Wm)(l,{icon:"fa-solid fa-trash-can"})],512),[[i.F8,n.missions.length>1]]),(0,o._)("button",{onClick:e[3]||(e[3]=function(e){return n.$router.push({name:"createMission"})}),class:"icon large"},[(0,o.Wm)(l,{icon:"fa-solid fa-plus"})])])]),(0,o._)("div",zn,[(0,o._)("p",Dn,(0,f.zw)(n.mission.minute)+" mixins",1),(0,o._)("h1",Un,(0,f.zw)(n.mission.title),1),(0,o._)("p",En,(0,f.zw)(n.mission.point)+" Exp",1),(0,o._)("p",jn,(0,f.zw)(n.mission.description),1)]),(0,o._)("div",Pn,[(0,o._)("button",{onClick:e[4]||(e[4]=function(e){return n.$router.push({name:"home"})}),class:"btn transparent textRed large"}," Cancel "),n.isCompleted||n.isPlay?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("button",{key:0,onClick:e[5]||(e[5]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.play&&n.play.apply(n,e)}),class:"btn large shadow",type:"button"}," Play "))]),n.isPlay||n.isCompleted?((0,o.wg)(),(0,o.iD)("div",qn,[Fn,(0,o._)("div",Tn,[(0,o._)("span",An,(0,f.zw)(n.mission.point),1),On]),(0,o._)("h2",$n,(0,f.zw)(n.mission.title),1),Ln,(0,o._)("div",Zn,[n.isCompleted?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("button",{key:0,onClick:e[6]||(e[6]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.stop&&n.stop.apply(n,e)}),class:"btn large pink shadow",type:"button"}," Stop ")),n.isCompleted?((0,o.wg)(),(0,o.iD)("button",{key:1,onClick:e[7]||(e[7]=function(e){return n.$router.push({name:"home",query:{nav:"completed"}})}),class:"btn large shadow",type:"button"}," Close ")):(0,o.kq)("",!0)]),n.isCompleted?((0,o.wg)(),(0,o.iD)("dt",Sn,"Completed !!!")):(0,o.kq)("",!0),n.isCompleted?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",Jn,[(0,o._)("div",{style:(0,f.j5)({width:n.getProgressPercent()}),class:"progressTime"},null,4),(0,o._)("div",Vn,(0,f.zw)(n.countdown)+" / "+(0,f.zw)(n.second),1)]))])):(0,o.kq)("",!0)])):((0,o.wg)(),(0,o.iD)("div",Hn,"Loading..."))}var Nn=(0,o.aZ)({props:["missions"],emits:["removeMission","completeMission"],setup:function(n){var e=(0,a.iH)();if(n.missions.length>0){var t=+(0,m.yj)().params.missionId;e.value=n.missions.find((function(n){return n.id===t}))}return{mission:e}},beforeCreate:function(){var n=this;if(!this.mission){var e=+(0,m.yj)().params.missionId,t="https://docs.google.com/spreadsheets/d/1JvK8fSGKJp7U0edAsokelElq41jJYotLMz1RYQXVIZ4/gviz/tq?tqx=out:json";fetch("".concat(t,"&sheet=missions&tq=").concat(encodeURIComponent("select * where A = ".concat(e)))).then((function(n){return n.text()})).then((function(e){return n.mission=d(e)[0]}))}},components:{FontAwesomeIcon:q.GN},data:function(){return{mission:{},isPlay:!1,isCompleted:!1,countdown:0,second:0}},methods:{removeMission:function(n){this.$emit("removeMission",(0,B.pi)({},n))},play:function(){var n=this;this.isPlay=!0,this.countdown=this.second=60*this.mission.minute,yn=setInterval((function(){return n.countdown--}),1e3),Mn=setTimeout((function(){clearInterval(yn),n.isPlay=!1,n.isCompleted=!0,n.$emit("completeMission",(0,B.pi)({},n.mission))}),1e3*this.second+1e3)},stop:function(){clearInterval(yn),clearTimeout(Mn),this.isPlay=!1},getProgressPercent:function(){return"".concat(this.countdown/this.second*100,"%")}}});const Rn=(0,T.Z)(Nn,[["render",Kn],["__scopeId","data-v-a3501af6"]]);var Wn=Rn,Yn=[{path:"/",name:"home",component:O},{path:"/create-mission",name:"createMission",component:tn},{path:"/edit-mission/:missionId",name:"editMission",component:Cn},{path:"/on-mission/:missionId",name:"onMission",component:Wn}],Gn=(0,m.p7)({history:(0,m.r5)(),routes:Yn}),Qn=Gn,Xn=t(417),Bn=t(636);Bn.vI.add(Xn.acZ,Xn.S6C,Xn.Qz9,Xn.Vui,Xn.r8p);var ne=(0,o.aZ)({setup:function(){var n=(0,a.iH)([]),e=(0,a.iH)([]),t=(0,a.iH)({id:1,exp:0}),i="https://docs.google.com/spreadsheets/d/1JvK8fSGKJp7U0edAsokelElq41jJYotLMz1RYQXVIZ4/gviz/tq?tqx=out:json";return fetch(i+"&sheet=missions").then((function(n){return n.text()})).then((function(e){return n.value=d(e)})),fetch(i+"&sheet=CompletedMissions&tq="+encodeURIComponent("select * order by A desc")).then((function(n){return n.text()})).then((function(n){return e.value=d(n)})),fetch(i+"&sheet=hero").then((function(n){return n.text()})).then((function(n){return t.value.exp=d(n)[0].exp})),{missions:n,completedMissions:e,hero:t}},data:function(){return{onMission:{},firstLevelMaxExp:10,levelIncreaseRate:1.2,fetchUrl:"AKfycbztKNrhW3fy8DbcXQoXJOHiVvJNzbN0SkqKeJJoraWp2KC0Tyno9TE3G9LCUZhzz0xipw"}},methods:{createMission:function(n){n.id=Math.max.apply(Math,this.missions.map((function(n){return n.id})))+1,p(r.create,"Missions",this.fetchUrl,n),this.missions.push(n)},editMission:function(n){p(r.update,"Missions",this.fetchUrl,n);var e=this.missions.findIndex((function(e){return e.id===n.id}));this.missions[e]=n},removeMission:function(n){p(r["delete"],"Missions",this.fetchUrl,n);var e=this.missions.findIndex((function(e){return e.id===n.id}));this.missions.splice(e,1),Qn.push({name:"home"})},completeMission:function(n){n.id=Math.max.apply(Math,this.completedMissions.map((function(n){return n.id})))+1||1,n.dateCreated=u(new Date),p(r.create,"CompletedMissions",this.fetchUrl,n),this.completedMissions.unshift(n),this.hero.exp+=n.point,p(r.update,"Hero",this.fetchUrl,this.hero)}}});const ee=(0,T.Z)(ne,[["render",s]]);var te=ee;(0,i.ri)(te).use(Qn).mount("#app")}},e={};function t(i){var o=e[i];if(void 0!==o)return o.exports;var s=e[i]={exports:{}};return n[i](s,s.exports,t),s.exports}t.m=n,function(){var n=[];t.O=function(e,i,o,s){if(!i){var r=1/0;for(c=0;c<n.length;c++){i=n[c][0],o=n[c][1],s=n[c][2];for(var a=!0,l=0;l<i.length;l++)(!1&s||r>=s)&&Object.keys(t.O).every((function(n){return t.O[n](i[l])}))?i.splice(l--,1):(a=!1,s<r&&(r=s));if(a){n.splice(c--,1);var u=o();void 0!==u&&(e=u)}}return e}s=s||0;for(var c=n.length;c>0&&n[c-1][2]>s;c--)n[c]=n[c-1];n[c]=[i,o,s]}}(),function(){t.d=function(n,e){for(var i in e)t.o(e,i)&&!t.o(n,i)&&Object.defineProperty(n,i,{enumerable:!0,get:e[i]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"===typeof window)return window}}()}(),function(){t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)}}(),function(){t.p=""}(),function(){var n={143:0};t.O.j=function(e){return 0===n[e]};var e=function(e,i){var o,s,r=i[0],a=i[1],l=i[2],u=0;if(r.some((function(e){return 0!==n[e]}))){for(o in a)t.o(a,o)&&(t.m[o]=a[o]);if(l)var c=l(t)}for(e&&e(i);u<r.length;u++)s=r[u],t.o(n,s)&&n[s]&&n[s][0](),n[s]=0;return t.O(c)},i=self["webpackChunkgame_live"]=self["webpackChunkgame_live"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=t.O(void 0,[998],(function(){return t(883)}));i=t.O(i)})();
//# sourceMappingURL=app.cdceca08.js.map